<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Unidad 2 â€” Lista de actividades</title>
  <style>
    :root{
      --azul-1:#00aaff;
      --azul-2:#004b9a;
      --blanco:#ffffff;
      --negro:#0b0c10;
      --panel: rgba(255,255,255,0.04);
    }
    html,body{
      height:100%;
      margin:0;
      font-family:"Poppins", Arial, sans-serif;
      background:var(--negro);
      color:var(--blanco);
      -webkit-font-smoothing:antialiased;
      overflow:hidden;
    }

    /* background canvases */
    .bg-canvas{position:fixed;inset:0;z-index:0;pointer-events:none}

    /* app layout */
    .app{position:relative;z-index:2;min-height:100vh;display:flex;flex-direction:column;align-items:center}
    header{width:100%;text-align:center;padding:48px 20px 10px;box-sizing:border-box;z-index:3}
    header h1{margin:0;font-size:3rem;color:var(--azul-1);text-shadow:0 0 18px rgba(0,170,255,0.12)}
    header h2{margin:6px 0 0;font-weight:400;color:rgba(255,255,255,0.85)}

    /* grid */
    .grid-wrap{width:100%;max-width:1100px;padding:28px 20px;box-sizing:border-box;z-index:3;flex:1;display:flex;align-items:flex-start;justify-content:center}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;width:100%}

    .card{
      background:var(--panel);
      padding:18px;
      border-radius:12px;
      cursor:pointer;
      transition:transform .28s ease, background .28s ease, box-shadow .28s;
      box-shadow: 0 6px 18px rgba(0,0,0,0.45);
      backdrop-filter: blur(4px);
    }
    .card h3{margin:0;color:var(--azul-1);font-size:1.05rem}
    .card p{margin:8px 0 0 0;color:rgba(255,255,255,0.88);font-size:.92rem}
    .card:hover{
      transform: translateY(-8px) scale(1.02);
      background: linear-gradient(180deg, rgba(0,170,255,0.08), rgba(255,255,255,0.02));
      box-shadow: 0 14px 40px rgba(0,170,255,0.12);
    }

    /* detail full screen */
    .detail-screen{
      display:none;
      position:fixed;
      inset:0;
      background:linear-gradient(180deg, rgba(1,6,20,0.95), rgba(0,0,0,0.96));
      z-index:30;
      overflow:auto;
      padding:36px;
      box-sizing:border-box;
      opacity:0;
      transform: translateX(30px);
      transition: opacity .32s ease, transform .32s ease;
    }
    .detail-screen.show{ display:block; opacity:1; transform: translateX(0); }

    .detail-inner{max-width:1100px;margin:0 auto;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:18px;box-shadow:0 20px 60px rgba(0,0,0,0.7)}
    .detail-head{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}
    .detail-head h2{margin:0;color:var(--azul-1)}
    .controls{display:flex;gap:10px;align-items:center}
    .btn{background:var(--azul-1);color:var(--negro);padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:700;box-shadow:0 10px 30px rgba(0,170,255,0.12)}
    .btn.secondary{background:#ffffff;color:var(--azul-2)}
    .btn.ghost{background:transparent;color:var(--blanco);border:1px solid rgba(255,255,255,0.06)}
    .content-columns{display:grid;grid-template-columns:1fr 340px;gap:18px;margin-top:14px}
    .enunciado{background:rgba(255,255,255,0.02);padding:14px;border-radius:8px;min-height:160px;color:#e7f7ff;line-height:1.5;outline:none}
    pre.code{background:#030409;color:#e6fbff;border-left:6px solid var(--azul-2);padding:12px;border-radius:8px;overflow:auto;font-family:Consolas,monospace}

    .meta-card{background:var(--panel);padding:12px;border-radius:8px;margin-bottom:12px}
    .footer-small{text-align:center;color:rgba(255,255,255,0.6);margin-top:26px}

    /* volver floating small */
    .volver-floating{position:fixed;right:20px;bottom:18px;z-index:40}
    .volver-floating .btn{padding:10px 12px;border-radius:12px}

    @media (max-width:980px){
      .content-columns{grid-template-columns:1fr}
      header h1{font-size:2.2rem}
    }
  </style>
</head>
<body>

  <!-- background canvases -->
  <canvas id="gradCanvas" class="bg-canvas"></canvas>
  <canvas id="barsCanvas" class="bg-canvas"></canvas>
  <canvas id="netCanvas" class="bg-canvas"></canvas>

  <div class="app">
    <header>
      <h1>Unidad 2</h1>
      <h2>Lista de actividades</h2>
    </header>

    <div class="grid-wrap">
      <div class="grid" id="activitiesGrid">
        <!-- tarjetas generadas por JS -->
      </div>
    </div>

    <div class="footer-small">Â© 2025 - LUIS ANGEL QUENAYA LOZA</div>
  </div>

  <!-- detalle full screen (se rellena por JS) -->
  <div class="detail-screen" id="detailScreen" aria-hidden="true">
    <div class="detail-inner" role="dialog" aria-labelledby="detailTitle">
      <div class="detail-head">
        <h2 id="detailTitle">Actividad</h2>
        <div class="controls">
          <button class="btn" id="openPdfBtn">ðŸ“˜ Ver PDF</button>
          <button class="btn secondary" id="downloadCodeBtn">ðŸ’¾ Descargar cÃ³digo</button>
          <button class="btn ghost" id="closeDetailBtn">ðŸ”™ Volver</button>
        </div>
      </div>

      <div class="content-columns">
        <div>
          <h3 style="color:var(--azul-1);margin:12px 0 6px 0">ðŸ§© Enunciado</h3>
          <div class="enunciado" id="detailEnunciado" contenteditable="false" title="Doble clic para editar (pegar tu enunciado)">
            <em>ðŸ‘‰ Doble clic para editar y pegar el enunciado de la actividad.</em>
          </div>

          <h3 style="color:var(--azul-1);margin:14px 0 6px 0">ðŸ”¢ ExplicaciÃ³n y ejemplo</h3>
          <p style="margin:0 0 8px 0;color:#dff7ff">AquÃ­ puedes agregar explicaciÃ³n, resultados o imÃ¡genes referentes a la actividad.</p>

          <h3 style="color:var(--azul-1);margin:14px 0 6px 0">ðŸ’» CÃ³digo de ejemplo</h3>
          <pre class="code" id="detailCode">
import numpy as np
import matplotlib.pyplot as plt


func_str = input("Ingrese la funciÃ³n f(x): ")  

def f(x):
    return eval(func_str, {"np": np, "x": x})


a = float(input("Ingrese el valor inicial a: "))
b = float(input("Ingrese el valor inicial b: "))

tol = 1e-6
max_iter = 100


print("\nIter | a        | b        | xm       | f(xm)    | Error")
print("--------------------------------------------------------")


for i in range(1, max_iter+1):
    xm = (a + b)/2
    fxm = f(xm)
    error = (b - a)/2
    print(f"{i:4d} | {a:8.6f} | {b:8.6f} | {xm:8.6f} | {fxm:8.6f} | {error:8.6f}")
    
    if abs(fxm) < tol or error < tol:
        raiz = xm
        print(f"\nRaÃ­z aproximada: {raiz:.6f} encontrada en {i} iteraciones")
        break
    
    if f(a)*fxm < 0:
        b = xm
    else:
        a = xm
else:
    print("\nNo se alcanzÃ³ la convergencia despuÃ©s del mÃ¡ximo de iteraciones")


margen = (b - a)*0.1
xmin = a - margen
xmax = b + margen
x = np.linspace(xmin, xmax, 400)
y = f(x)

plt.plot(x, y, label=f"f(x) = {func_str}")
plt.axhline(0, color='black', linestyle='--')
plt.axvline(raiz, color='red', linestyle='--', label=f"RaÃ­z â‰ˆ {raiz:.6f}")
plt.title("MÃ©todo de BisecciÃ³n")
plt.xlabel("x")
plt.ylabel("f(x)")
plt.legend()
plt.grid(True)
plt.show()

          </pre>
        </div>

        <aside>
          <div class="meta-card">
            <p style="margin:0 0 6px 0"><strong>Materia:</strong> ProgramaciÃ³n NumÃ©rica</p>
            <p style="margin:0 0 6px 0"><strong>Profesor:</strong> [Tu profesor]</p>
            <p style="margin:0 0 6px 0"><strong>Fecha entrega:</strong> [dd/mm/aaaa]</p>
          </div>

          <div class="meta-card">
            <p style="margin:0 0 6px 0"><strong>Recursos</strong></p>
            <ul style="margin:6px 0 0 18px;padding:0">
              <li id="resPdf">Documento PDF</li>
              <li>Descargar cÃ³digo</li>
              <li>GrÃ¡ficas y resultados</li>
            </ul>
          </div>

          <div class="meta-card">
            <p style="margin:0;color:rgba(255,255,255,0.85)"><strong>Nota:</strong></p>
            <p style="margin:6px 0 0 0;color:rgba(255,255,255,0.8)">Doble clic en el Ã¡rea de enunciado para editar. Presiona Volver para regresar a la lista.</p>
          </div>
        </aside>
      </div>
    </div>
  </div>

  <div class="volver-floating" id="floatingBack" style="display:none">
    <button class="btn ghost" id="floatingClose">ðŸ”™ Volver a lista</button>
  </div>

  <!-- hidden anchor para descargas -->
  <a id="downloadAnchor" style="display:none"></a>

  <script>
    /* ===== Datos de actividades (solo Unidad 2) ===== */
    const activities = [
      { id: 'a1', title: 'Actividad 1 â€” MÃ©todo de BisecciÃ³n', pdf: 'Actividad1.pdf', code: '# CÃ³digo ejemplo BisecciÃ³n\\n' },
      { id: 'a2', title: 'Actividad 2 â€” MÃ©todo de Newton-Raphson', pdf: 'Actividad2.pdf', code: '# CÃ³digo ejemplo Newton-Raphson\\n' },
      { id: 'a3', title: 'Actividad 3 â€” MÃ©todo de la Secante', pdf: 'Actividad3.pdf', code: '# CÃ³digo ejemplo Secante\\n' },
      { id: 'a4', title: 'Actividad 4 â€” MÃ©todo del Punto Fijo', pdf: 'Actividad4.pdf', code: '# CÃ³digo ejemplo Punto Fijo\\n' },
      { id: 'a5', title: 'Actividad 5 â€” MÃ©todo de la Falsa PosiciÃ³n', pdf: 'Actividad5.pdf', code: '# CÃ³digo ejemplo Falsa PosiciÃ³n\\n' },
      { id: 'a6', title: 'Actividad 6 â€” ComparaciÃ³n de MÃ©todos', pdf: 'Actividad6.pdf', code: '# CÃ³digo ejemplo ComparaciÃ³n\\n' }
    ];

    const activitiesGrid = document.getElementById('activitiesGrid');
    const detailScreen = document.getElementById('detailScreen');
    const detailTitle = document.getElementById('detailTitle');
    const detailEnunciado = document.getElementById('detailEnunciado');
    const detailCode = document.getElementById('detailCode');
    const openPdfBtn = document.getElementById('openPdfBtn');
    const downloadCodeBtn = document.getElementById('downloadCodeBtn');
    const closeDetailBtn = document.getElementById('closeDetailBtn');
    const floatingBack = document.getElementById('floatingBack');
    const floatingClose = document.getElementById('floatingClose');

    let currentActivity = null;

    function renderList(){
      activitiesGrid.innerHTML = '';
      activities.forEach(act=>{
        const div = document.createElement('div');
        div.className = 'card';
        div.innerHTML = `<h3>${act.title}</h3><p>Haz clic para ver la actividad completa (enunciado, cÃ³digo y recursos).</p>`;
        div.onclick = ()=> openDetail(act);
        activitiesGrid.appendChild(div);
      });
    }

    function openDetail(act){
      currentActivity = act;
      detailTitle.textContent = act.title;
      // set enunciado placeholder (only reset if not custom for this activity)
      if(!detailEnunciado.dataset.custom || detailEnunciado.dataset.activity !== act.id){
        detailEnunciado.innerHTML = '<em>ðŸ‘‰ Doble clic para pegar el enunciado de la actividad.</em>';
        detailEnunciado.dataset.custom = false;
      }
      // set code
      detailCode.textContent = act.code || '# CÃ³digo de ejemplo';
      // pdf action
      openPdfBtn.onclick = ()=> {
        // opens PDF in new tab; adjust path/names if needed
        window.open(act.pdf, '_blank');
      };
      // download code
      downloadCodeBtn.onclick = ()=> {
        downloadCode(act.title.replace(/\s+/g,'_') + '.py', detailCode.innerText);
      };

      // show detail screen with effect
      detailScreen.classList.add('show');
      detailScreen.setAttribute('aria-hidden','false');
      floatingBack.style.display = 'block';
      window.scrollTo(0,0);
    }

    function closeDetail(){
      detailScreen.classList.remove('show');
      detailScreen.setAttribute('aria-hidden','true');
      floatingBack.style.display = 'none';
    }

    // double click to edit enunciado
    detailEnunciado.addEventListener('dblclick', (e)=>{
      detailEnunciado.contentEditable = true;
      detailEnunciado.style.outline = '2px dashed rgba(0,170,255,0.14)';
      detailEnunciado.focus();
    });

    // when editing, mark custom and tie to activity
    detailEnunciado.addEventListener('input', ()=>{
      detailEnunciado.dataset.custom = true;
      if(currentActivity) detailEnunciado.dataset.activity = currentActivity.id;
    });

    // close handlers
    closeDetailBtn.addEventListener('click', closeDetail);
    floatingClose.addEventListener('click', closeDetail);
    document.addEventListener('keydown', (e)=> { if(e.key === 'Escape') closeDetail(); });
    detailScreen.addEventListener('click', (e)=> { if(e.target === detailScreen) closeDetail(); });

    // download helper
    function downloadCode(filename, content){
      const a = document.getElementById('downloadAnchor');
      const blob = new Blob([content], {type:'text/x-python;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      a.href = url; a.download = filename; a.click();
      setTimeout(()=> URL.revokeObjectURL(url), 1500);
    }

    // initial render
    renderList();

    /* ===== Animated background (gradient + subtle bars + network) ===== */
    const gradCanvas = document.getElementById('gradCanvas');
    const barsCanvas = document.getElementById('barsCanvas');
    const netCanvas = document.getElementById('netCanvas');
    const gctx = gradCanvas.getContext('2d');
    const bctx = barsCanvas.getContext('2d');
    const nctx = netCanvas.getContext('2d');

    let W = gradCanvas.width = barsCanvas.width = netCanvas.width = window.innerWidth;
    let H = gradCanvas.height = barsCanvas.height = netCanvas.height = window.innerHeight;

    window.addEventListener('resize', ()=>{
      W = gradCanvas.width = barsCanvas.width = netCanvas.width = window.innerWidth;
      H = gradCanvas.height = barsCanvas.height = netCanvas.height = window.innerHeight;
      initBars(); initNodes();
    });

    // gradient
    let t = 0;
    function drawGradient(){
      t += 0.002;
      const grd = gctx.createLinearGradient(0,0,W*Math.cos(t*0.6),H);
      grd.addColorStop(0, 'rgba(0,12,35,0.95)');
      grd.addColorStop(0.5, 'rgba(0,60,110,0.14)');
      grd.addColorStop(1, 'rgba(0,0,0,0.98)');
      gctx.clearRect(0,0,W,H);
      gctx.fillStyle = grd;
      gctx.fillRect(0,0,W,H);

      // soft radial highlight
      const rg = gctx.createRadialGradient(W*0.85, H*0.18, 80, W*0.85, H*0.18, 800);
      rg.addColorStop(0, 'rgba(255,255,255,0.02)');
      rg.addColorStop(1, 'rgba(0,0,0,0)');
      gctx.fillStyle = rg;
      gctx.fillRect(0,0,W,H);
    }

    // bars (more degradado and very translucent so text isn't covered)
    let bars = [];
    function initBars(){
      const count = Math.max(10, Math.floor(W/70));
      bars = [];
      for(let i=0;i<count;i++){
        bars.push({
          x: i*(W/count),
          w: Math.max(10,(W/count)*0.65),
          base: Math.random()*(H*0.28) + 10,
          speed: 0.3 + Math.random()*0.9,
          phase: Math.random()*Math.PI*2
        });
      }
    }
    initBars();

    function drawBars(now){
      bctx.clearRect(0,0,W,H);
      for(let i=0;i<bars.length;i++){
        const bar = bars[i];
        const hh = (Math.sin(now/1000 * bar.speed + bar.phase) * 0.4 + 0.6) * bar.base;
        const x = bar.x + (W/bars.length)*0.14;
        const y = H - hh - 40;
        const gradient = bctx.createLinearGradient(x,y,x,y+hh);
        // more graduated and translucent stops
        gradient.addColorStop(0, 'rgba(0,170,255,0.85)');
        gradient.addColorStop(0.55, 'rgba(200,230,255,0.06)');
        gradient.addColorStop(1, 'rgba(0,0,0,0.04)');
        bctx.fillStyle = gradient;
        bctx.fillRect(x,y,bar.w,hh);
        // faint glow behind
        bctx.globalAlpha = 0.06;
        bctx.fillStyle = 'rgba(0,170,255,0.25)';
        bctx.fillRect(x-6,y-6,bar.w+12,hh+12);
        bctx.globalAlpha = 1;
      }
    }

    // network nodes (very subtle)
    let nodes = [];
    function initNodes(){
      const count = Math.max(30, Math.floor(W/30));
      nodes = [];
      for(let i=0;i<count;i++){
        nodes.push({
          x: Math.random()*W,
          y: Math.random()*H,
          vx: (Math.random()-0.5)*0.6,
          vy: (Math.random()-0.5)*0.6,
          r: 0.8 + Math.random()*1.8
        });
      }
    }
    initNodes();

    function drawNetwork(){
      nctx.clearRect(0,0,W,H);
      for(let i=0;i<nodes.length;i++){
        const a = nodes[i];
        a.x += a.vx; a.y += a.vy;
        if(a.x < 0 || a.x > W) a.vx *= -1;
        if(a.y < 0 || a.y > H) a.vy *= -1;
        nctx.beginPath();
        nctx.arc(a.x, a.y, a.r, 0, Math.PI*2);
        nctx.fillStyle = 'rgba(0,170,255,0.9)';
        nctx.fill();
        for(let j=i+1;j<nodes.length;j++){
          const b = nodes[j];
          const dx = a.x - b.x, dy = a.y - b.y;
          const dist = Math.sqrt(dx*dx + dy*dy);
          if(dist < 110){
            nctx.beginPath();
            nctx.moveTo(a.x,a.y);
            nctx.lineTo(b.x,b.y);
            nctx.strokeStyle = 'rgba(0,170,255,' + (0.08*(1 - dist/110)) + ')';
            nctx.stroke();
          }
        }
      }
    }

    // animation loop
    function loop(now){
      drawGradient();
      drawBars(now || 0);
      drawNetwork();
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);

    // init sizes on load & resize
    window.addEventListener('load', ()=>{
      W = gradCanvas.width = barsCanvas.width = netCanvas.width = window.innerWidth;
      H = gradCanvas.height = barsCanvas.height = netCanvas.height = window.innerHeight;
      initBars(); initNodes();
    });

    // small UX: prevent detail click from closing when clicking inside
    detailScreen.addEventListener('click', (e)=>{
      if(e.target === detailScreen) closeDetail();
    });

  </script>
</body>
</html>

