<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unidad 2 - Actividades 1-5: M√©todos Num√©ricos</title>
    
    <!-- MathJax para f√≥rmulas matem√°ticas -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <!-- Chart.js para gr√°ficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* VARIABLES DE COLOR - TEMA AZUL */
        :root {
            --azul-primario: #0066cc;
            --azul-secundario: #003366;
            --azul-oscuro: #001f3f;
            --azul-claro: #e6f2ff;
            --blanco: #ffffff;
            --blanco-hueso: #f8f9fa;
            --gris-claro: #eef2f7;
            --gris-medio: #6c757d;
            --gris-oscuro: #2c3e50;
            --verde: #28a745;
            --rojo: #dc3545;
            --amarillo: #ffc107;
            --sombra: rgba(0, 51, 102, 0.15);
            --sombra-fuerte: rgba(0, 51, 102, 0.25);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(180deg, var(--gris-claro) 0%, var(--blanco) 100%);
            color: var(--gris-oscuro);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        /* HEADER */
        .header {
            background: linear-gradient(135deg, var(--azul-primario), var(--azul-secundario));
            color: var(--blanco);
            padding: 2rem;
            text-align: center;
            box-shadow: 0 4px 20px var(--sombra-fuerte);
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .header h2 {
            font-size: 1.2rem;
            font-weight: 300;
            opacity: 0.9;
        }
        
        /* NAVEGACI√ìN */
        .nav-container {
            background: var(--blanco);
            box-shadow: 0 2px 15px var(--sombra);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-tabs {
            display: flex;
            overflow-x: auto;
            padding: 0;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .nav-tab {
            padding: 1rem 1.5rem;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            color: var(--gris-oscuro);
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .nav-tab:hover {
            background: var(--gris-claro);
            color: var(--azul-primario);
        }
        
        .nav-tab.active {
            background: var(--blanco);
            border-bottom: 3px solid var(--azul-primario);
            color: var(--azul-primario);
            font-weight: 600;
        }
        
        /* CONTENIDO PRINCIPAL */
        .main-content {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }
        
        /* CONTENEDOR DE ACTIVIDAD */
        .activity-container {
            background: var(--blanco);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 30px var(--sombra);
            border: 1px solid rgba(0, 102, 204, 0.1);
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .activity-container h2 {
            color: var(--azul-secundario);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--azul-primario);
            font-size: 1.8rem;
        }
        
        /* BOTONES */
        .btn-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }
        
        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }
        
        .btn-primary {
            background: var(--azul-primario);
            color: var(--blanco);
        }
        
        .btn-primary:hover {
            background: var(--azul-secundario);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 102, 204, 0.3);
        }
        
        .btn-secondary {
            background: var(--blanco);
            color: var(--azul-primario);
            border: 2px solid var(--azul-primario);
        }
        
        .btn-secondary:hover {
            background: var(--gris-claro);
            transform: translateY(-2px);
        }
        
        .btn-volver {
            background: var(--gris-claro);
            color: var(--gris-oscuro);
            border: 2px solid var(--gris-medio);
        }
        
        .btn-volver:hover {
            background: var(--gris-medio);
            color: var(--blanco);
        }
        
        /* SECCIONES */
        .section {
            background: var(--blanco-hueso);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            box-shadow: 0 4px 15px var(--sombra);
            border-left: 4px solid var(--azul-primario);
        }
        
        .section h3 {
            color: var(--azul-secundario);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }
        
        /* F√ìRMULAS */
        .formula-container {
            background: var(--azul-claro);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            border: 1px solid rgba(0, 102, 204, 0.2);
        }
        
        .formula {
            font-size: 1.1rem;
            margin: 1rem 0;
            padding: 1rem;
            background: var(--blanco);
            border-radius: 6px;
            border-left: 3px solid var(--azul-primario);
            overflow-x: auto;
        }
        
        /* TABLAS */
        .table-container {
            overflow-x: auto;
            margin: 1.5rem 0;
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
            background: var(--blanco);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px var(--sombra);
        }
        
        .table th {
            background: linear-gradient(135deg, var(--azul-primario), var(--azul-secundario));
            color: var(--blanco);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
        }
        
        .table td {
            padding: 0.8rem 1rem;
            border-bottom: 1px solid var(--gris-claro);
        }
        
        .table tr:hover {
            background: var(--gris-claro);
        }
        
        /* C√ìDIGO */
        .code-container {
            background: var(--azul-oscuro);
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }
        
        .code-header {
            background: rgba(255, 255, 255, 0.1);
            padding: 0.8rem 1rem;
            color: var(--blanco);
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .code {
            padding: 1.5rem;
            color: #e6fbff;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            overflow-x: auto;
            white-space: pre-wrap;
            tab-size: 4;
        }
        
        /* SIMULACIONES */
        .simulation-container {
            background: var(--blanco);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            border: 2px solid var(--azul-primario);
            box-shadow: 0 8px 25px var(--sombra);
        }
        
        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .input-field {
            padding: 0.8rem 1rem;
            border: 2px solid var(--gris-claro);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: var(--blanco);
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--azul-primario);
            box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.2);
        }
        
        .results {
            background: var(--blanco);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            border: 1px solid var(--gris-claro);
            max-height: 400px;
            overflow-y: auto;
        }
        
        /* CANVAS PARA GR√ÅFICOS */
        .canvas-container {
            background: var(--blanco);
            border-radius: 8px;
            padding: 1rem;
            margin: 1.5rem 0;
            box-shadow: 0 4px 15px var(--sombra);
        }
        
        canvas {
            display: block;
            max-width: 100%;
            height: auto;
            border-radius: 6px;
        }
        
        /* MEN√ö PRINCIPAL - GRID */
        .grid-activities {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .grid-activities .section {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        
        .grid-activities .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px var(--sombra-fuerte);
        }
        
        /* FOOTER */
        .footer {
            background: var(--azul-secundario);
            color: var(--blanco);
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }
        
        /* RESPONSIVE */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }
            
            .nav-tabs {
                padding: 0 0.5rem;
            }
            
            .nav-tab {
                padding: 0.8rem 1rem;
                font-size: 0.8rem;
            }
            
            .activity-container {
                padding: 1.5rem;
            }
            
            .input-group {
                grid-template-columns: 1fr;
            }
            
            .btn-group {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .grid-activities {
                grid-template-columns: 1fr;
            }
        }
        
        /* ANIMACIONES ESPECIALES */
        .highlight {
            background: linear-gradient(120deg, rgba(255, 193, 7, 0.2) 0%, rgba(255, 193, 7, 0.1) 100%);
            border-left: 4px solid var(--amarillo);
            padding: 1rem;
            border-radius: 6px;
            margin: 1rem 0;
        }
        
        .note {
            background: var(--azul-claro);
            border-left: 4px solid var(--azul-primario);
            padding: 1rem;
            border-radius: 6px;
            margin: 1rem 0;
            font-style: italic;
        }
        
        .warning {
            background: rgba(220, 53, 69, 0.1);
            border-left: 4px solid var(--rojo);
            padding: 1rem;
            border-radius: 6px;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <div class="header">
        <h1>Unidad 2 - M√©todos Num√©ricos (Actividades 1-5)</h1>
        <h2>M√©todos para Encontrar Ra√≠ces de Ecuaciones</h2>
        <p>Luis Angel Quenaya Loza | C√≥digo: 241411</p>
    </div>

    <!-- NAVEGACI√ìN -->
    <div class="nav-container">
        <div class="nav-tabs" id="navTabs">
            <button class="nav-tab active" onclick="showActivity('menu')">üè† Inicio</button>
            <button class="nav-tab" onclick="showActivity('act1')">1. Bisecci√≥n</button>
            <button class="nav-tab" onclick="showActivity('act2')">2. Secante</button>
            <button class="nav-tab" onclick="showActivity('act3')">3. Punto Fijo</button>
            <button class="nav-tab" onclick="showActivity('act4')">4. Regula Falsi</button>
            <button class="nav-tab" onclick="showActivity('act5')">5. Newton-Raphson</button>
            <button class="nav-tab btn-volver" onclick="window.location.href='unidad2.html'">
                ‚¨Ö Volver a Actividades 6-17
            </button>
        </div>
    </div>

    <!-- CONTENIDO PRINCIPAL -->
    <div class="main-content">
        
        <!-- MEN√ö PRINCIPAL -->
        <div id="menu" class="activity-content" style="display: block;">
            <div class="activity-container">
                <h2>üìö Actividades 1-5: M√©todos Num√©ricos para Ra√≠ces</h2>
                
                <div class="section">
                    <h3>üîç Introducci√≥n a los M√©todos Num√©ricos</h3>
                    <p>Los m√©todos num√©ricos son algoritmos utilizados para resolver problemas matem√°ticos mediante aproximaciones sucesivas. En esta secci√≥n estudiaremos <strong>5 m√©todos fundamentales</strong> para encontrar ra√≠ces de ecuaciones no lineales.</p>
                    
                    <div class="formula">
                        <strong>Problema general:</strong> Encontrar $x$ tal que $f(x) = 0$
                    </div>
                    
                    <div class="note">
                        <strong>üí° Nota:</strong> Estos m√©todos son esenciales en ingenier√≠a, f√≠sica, econom√≠a y ciencias computacionales.
                    </div>
                </div>
                
                <div class="grid-activities">
                    <!-- ACTIVIDAD 1 -->
                    <div class="section" onclick="showActivity('act1')">
                        <h3>1. M√©todo de Bisecci√≥n</h3>
                        <p>Encuentra ra√≠ces mediante divisi√≥n sucesiva de intervalos. Basado en el <strong>Teorema de Bolzano</strong>.</p>
                        <div class="highlight">
                            <strong>Ventajas:</strong> Convergencia garantizada<br>
                            <strong>F√≥rmula:</strong> $c = \frac{a+b}{2}$
                        </div>
                    </div>
                    
                    <!-- ACTIVIDAD 2 -->
                    <div class="section" onclick="showActivity('act2')">
                        <h3>2. M√©todo de la Secante</h3>
                        <p>Aproximaci√≥n de ra√≠ces usando rectas secantes. No requiere derivadas.</p>
                        <div class="highlight">
                            <strong>Orden:</strong> 1.618 (√°ureo)<br>
                            <strong>F√≥rmula:</strong> $x_{n+1} = x_n - f(x_n)\frac{x_n-x_{n-1}}{f(x_n)-f(x_{n-1})}$
                        </div>
                    </div>
                    
                    <!-- ACTIVIDAD 3 -->
                    <div class="section" onclick="showActivity('act3')">
                        <h3>3. M√©todo del Punto Fijo</h3>
                        <p>Transforma $f(x)=0$ en $x = g(x)$. Encuentra puntos fijos de $g$.</p>
                        <div class="warning">
                            <strong>Condici√≥n:</strong> $|g'(x)| < 1$ para converger
                        </div>
                    </div>
                    
                    <!-- ACTIVIDAD 4 -->
                    <div class="section" onclick="showActivity('act4')">
                        <h3>4. M√©todo de Regula Falsi</h3>
                        <p>Tambi√©n llamado "falsa posici√≥n". Mezcla bisecci√≥n con interpolaci√≥n lineal.</p>
                        <div class="highlight">
                            <strong>H√≠brido:</strong> Bisecci√≥n + Secante<br>
                            <strong>F√≥rmula:</strong> $x_r = b - f(b)\frac{b-a}{f(b)-f(a)}$
                        </div>
                    </div>
                    
                    <!-- ACTIVIDAD 5 -->
                    <div class="section" onclick="showActivity('act5')">
                        <h3>5. Newton-Raphson</h3>
                        <p>M√©todo iterativo r√°pido con convergencia cuadr√°tica. Usa derivadas.</p>
                        <div class="highlight">
                            <strong>R√°pido:</strong> Convergencia cuadr√°tica<br>
                            <strong>F√≥rmula:</strong> $x_{n+1} = x_n - \frac{f(x_n)}{f'(x_n)}$
                        </div>
                    </div>
                </div>
                
                <!-- TABLA COMPARATIVA -->
                <div class="section">
                    <h3>üìä Comparativa de M√©todos</h3>
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>M√©todo</th>
                                    <th>Convergencia</th>
                                    <th>Derivadas</th>
                                    <th>Garant√≠a</th>
                                    <th>Velocidad</th>
                                    <th>Complejidad</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Bisecci√≥n</strong></td>
                                    <td>Lineal (r=0.5)</td>
                                    <td>‚ùå No necesita</td>
                                    <td>‚úÖ Siempre</td>
                                    <td>Lenta</td>
                                    <td>$O(\log(1/\epsilon))$</td>
                                </tr>
                                <tr>
                                    <td><strong>Secante</strong></td>
                                    <td>Superlineal (1.618)</td>
                                    <td>‚ùå No necesita</td>
                                    <td>‚ö†Ô∏è Condicional</td>
                                    <td>Media</td>
                                    <td>$O(n)$</td>
                                </tr>
                                <tr>
                                    <td><strong>Punto Fijo</strong></td>
                                    <td>Lineal</td>
                                    <td>‚ùå No necesita</td>
                                    <td>‚ö†Ô∏è $|g'(x)|<1$</td>
                                    <td>Lenta</td>
                                    <td>$O(n)$</td>
                                </tr>
                                <tr>
                                    <td><strong>Regula Falsi</strong></td>
                                    <td>Lineal</td>
                                    <td>‚ùå No necesita</td>
                                    <td>‚úÖ Siempre</td>
                                    <td>Media</td>
                                    <td>$O(n)$</td>
                                </tr>
                                <tr>
                                    <td><strong>Newton-Raphson</strong></td>
                                    <td>Cuadr√°tica</td>
                                    <td>‚úÖ Necesita</td>
                                    <td>‚ö†Ô∏è Condicional</td>
                                    <td>R√°pida</td>
                                    <td>$O(n)$</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- EJEMPLO PR√ÅCTICO -->
                <div class="section">
                    <h3>üéØ Ejemplo Aplicado a Todos los M√©todos</h3>
                    <p><strong>Problema:</strong> Encontrar la ra√≠z de $f(x) = x^3 - 2x - 5 = 0$</p>
                    
                    <div class="formula">
                        <strong>Soluci√≥n exacta:</strong> $x \approx 2.0945514815$
                    </div>
                    
                    <div class="input-group">
                        <div class="input-field" style="text-align: center;">
                            <strong>Funci√≥n:</strong><br>
                            $f(x) = x^3 - 2x - 5$
                        </div>
                        <div class="input-field" style="text-align: center;">
                            <strong>Derivada:</strong><br>
                            $f'(x) = 3x^2 - 2$
                        </div>
                        <div class="input-field" style="text-align: center;">
                            <strong>Intervalo:</strong><br>
                            $[2, 3]$
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="ejecutarTodosMetodos()">
                        <i class="fas fa-play"></i> Ejecutar Todos los M√©todos
                    </button>
                    
                    <div class="results" id="resultadosComparativa" style="display: none;">
                        <!-- Se llenar√° con JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- =============================================
                    ACTIVIDAD 1: BISECCI√ìN
        ============================================== -->
        <div id="act1" class="activity-content" style="display: none;">
            <div class="activity-container">
                <h2>Actividad 1 ‚Äî M√©todo de Bisecci√≥n</h2>
                
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="showActivity('menu')">
                        <i class="fas fa-arrow-left"></i> Volver al Men√∫
                    </button>
                    <button class="btn btn-secondary" onclick="window.open('BISECCION.pdf', '_blank')">
                        <i class="fas fa-file-pdf"></i> Ver PDF
                    </button>
                    <button class="btn btn-primary" onclick="ejecutarBiseccion()">
                        <i class="fas fa-play"></i> Ejecutar Bisecci√≥n
                    </button>
                </div>

                <!-- TEOR√çA -->
                <div class="section">
                    <h3><i class="fas fa-book"></i> Teor√≠a del M√©todo de Bisecci√≥n</h3>
                    <p>El m√©todo de bisecci√≥n es un algoritmo simple pero robusto para encontrar ra√≠ces de funciones continuas. Se basa en el <strong>Teorema de Bolzano</strong> (Teorema del Valor Intermedio).</p>
                    
                    <div class="formula-container">
                        <h4>üìö Teorema de Bolzano</h4>
                        <div class="formula">
                            Si $f$ es continua en $[a,b]$ y $f(a) \cdot f(b) < 0$,
                            entonces existe al menos un $c \in (a,b)$ tal que $f(c) = 0$.
                        </div>
                        <p>En palabras simples: <strong>Si una funci√≥n continua cambia de signo en un intervalo, debe cruzar el eje x en alg√∫n punto dentro de ese intervalo.</strong></p>
                    </div>
                    
                    <div class="formula-container">
                        <h4>üîß Algoritmo de Bisecci√≥n</h4>
                        <ol>
                            <li>Verificar que $f(a) \cdot f(b) < 0$ (cambio de signo)</li>
                            <li>Calcular punto medio: $c = \frac{a+b}{2}$</li>
                            <li>Evaluar $f(c)$</li>
                            <li>Si $f(a) \cdot f(c) < 0$, entonces $b = c$</li>
                            <li>Si $f(b) \cdot f(c) < 0$, entonces $a = c$</li>
                            <li>Repetir hasta que $|f(c)| < \epsilon$ o $b-a < \epsilon$</li>
                        </ol>
                    </div>
                </div>

                <!-- F√ìRMULAS -->
                <div class="section">
                    <h3><i class="fas fa-calculator"></i> F√≥rmulas Matem√°ticas</h3>
                    
                    <div class="formula">
                        <strong>Punto medio en iteraci√≥n n:</strong>
                        $$ c_n = \frac{a_n + b_n}{2} $$
                    </div>
                    
                    <div class="formula">
                        <strong>Error absoluto:</strong>
                        $$ E_n = \frac{b_n - a_n}{2} $$
                        <small>El error se reduce a la mitad en cada iteraci√≥n</small>
                    </div>
                    
                    <div class="formula">
                        <strong>Error relativo:</strong>
                        $$ e_n = \frac{|c_n - c_{n-1}|}{|c_n|} $$
                    </div>
                    
                    <div class="formula">
                        <strong>N√∫mero de iteraciones necesarias:</strong>
                        $$ n \geq \frac{\ln\left(\frac{b-a}{\epsilon}\right)}{\ln(2)} $$
                        <small>Donde $\epsilon$ es la tolerancia deseada</small>
                    </div>
                </div>

                <!-- EJEMPLO PASO A PASO -->
                <div class="section">
                    <h3><i class="fas fa-walking"></i> Ejemplo Paso a Paso</h3>
                    <p><strong>Problema:</strong> Encontrar ra√≠z de $f(x) = x^3 - 2x - 5$ en $[2, 3]$ con $\epsilon = 0.001$</p>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Iter</th>
                                    <th>$a$</th>
                                    <th>$b$</th>
                                    <th>$c = (a+b)/2$</th>
                                    <th>$f(c)$</th>
                                    <th>Error</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>2.0000</td>
                                    <td>3.0000</td>
                                    <td><strong>2.5000</strong></td>
                                    <td>5.6250</td>
                                    <td>0.5000</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>2.0000</td>
                                    <td>2.5000</td>
                                    <td><strong>2.2500</strong></td>
                                    <td>1.8906</td>
                                    <td>0.2500</td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>2.0000</td>
                                    <td>2.2500</td>
                                    <td><strong>2.1250</strong></td>
                                    <td>-0.3457</td>
                                    <td>0.1250</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>2.1250</td>
                                    <td>2.2500</td>
                                    <td><strong>2.1875</strong></td>
                                    <td>0.6868</td>
                                    <td>0.0625</td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td>2.1250</td>
                                    <td>2.1875</td>
                                    <td><strong>2.1563</strong></td>
                                    <td>0.1498</td>
                                    <td>0.0313</td>
                                </tr>
                                <tr>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                </tr>
                                <tr style="background-color: var(--azul-claro);">
                                    <td><strong>10</strong></td>
                                    <td><strong>2.0947</strong></td>
                                    <td><strong>2.0957</strong></td>
                                    <td><strong style="color: var(--verde);">2.0952</strong></td>
                                    <td>-0.0010</td>
                                    <td>0.0005</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="note">
                        <strong>üí° Observaci√≥n:</strong> Despu√©s de 10 iteraciones, hemos reducido el error a menos de 0.001.
                        La ra√≠z aproximada es $x \approx 2.0952$.
                    </div>
                </div>

                <!-- SIMULACI√ìN INTERACTIVA -->
                <div class="simulation-container">
                    <h3><i class="fas fa-gamepad"></i> Simulaci√≥n Interactiva</h3>
                    
                    <div class="input-group">
                        <input type="text" id="funcBiseccion" class="input-field" 
                               placeholder="Funci√≥n f(x). Ej: x^3 - 2*x - 5" 
                               value="x^3 - 2*x - 5">
                        <input type="number" id="aBiseccion" class="input-field" 
                               placeholder="L√≠mite inferior a" value="2" step="0.1">
                        <input type="number" id="bBiseccion" class="input-field" 
                               placeholder="L√≠mite superior b" value="3" step="0.1">
                        <input type="number" id="tolBiseccion" class="input-field" 
                               placeholder="Tolerancia" value="0.0001" step="0.0001" min="0.000001">
                        <input type="number" id="iterBiseccion" class="input-field" 
                               placeholder="Iteraciones m√°x" value="50" min="1" max="1000">
                    </div>
                    
                    <button class="btn btn-primary" onclick="ejecutarBiseccion()">
                        <i class="fas fa-rocket"></i> Ejecutar M√©todo de Bisecci√≥n
                    </button>
                    
                    <div class="results" id="resultadosBiseccion">
                        <p style="color: var(--gris-medio); text-align: center;">
                            <i class="fas fa-hourglass-start"></i> Los resultados aparecer√°n aqu√≠...
                        </p>
                    </div>
                    
                    <div class="canvas-container">
                        <canvas id="graficoBiseccion" width="800" height="400"></canvas>
                    </div>
                </div>

                <!-- C√ìDIGO PYTHON -->
                <div class="section">
                    <h3><i class="fas fa-code"></i> Implementaci√≥n en Python</h3>
                    <div class="code-container">
                        <div class="code-header">
                            <span>biseccion.py</span>
                            <button class="btn btn-secondary" onclick="copiarCodigo('codigoBiseccion')" 
                                    style="padding: 0.3rem 0.8rem; font-size: 0.8rem;">
                                <i class="fas fa-copy"></i> Copiar
                            </button>
                        </div>
                        <pre class="code" id="codigoBiseccion">import numpy as np

def biseccion(f, a, b, tol=1e-6, max_iter=100):
    """
    M√©todo de bisecci√≥n para encontrar ra√≠ces de f(x)=0.
    
    Par√°metros:
    -----------
    f : funci√≥n
        Funci√≥n continua f(x)
    a, b : float
        Extremos del intervalo [a,b] donde f(a)*f(b) < 0
    tol : float
        Tolerancia para el error
    max_iter : int
        M√°ximo n√∫mero de iteraciones
    
    Retorna:
    --------
    c : float
        Aproximaci√≥n de la ra√≠z
    historia : list
        Lista de tuplas (iter, a, b, c, f(c), error)
    """
    
    # Verificar condiciones iniciales
    if f(a) * f(b) >= 0:
        raise ValueError("No se cumple f(a)*f(b) < 0. La funci√≥n debe cambiar de signo en el intervalo.")
    
    historia = []
    
    for i in range(max_iter):
        # Calcular punto medio
        c = (a + b) / 2
        fc = f(c)
        
        # Calcular error
        error = (b - a) / 2
        
        # Guardar en historial
        historia.append((i+1, a, b, c, fc, error))
        
        # Verificar convergencia
        if abs(fc) < tol or error < tol:
            print(f"‚úì Convergencia alcanzada en {i+1} iteraciones")
            break
        
        # Actualizar intervalo
        if f(a) * fc < 0:
            b = c
        else:
            a = c
    else:
        print(f"‚ö† Se alcanz√≥ el m√°ximo de {max_iter} iteraciones sin converger")
    
    return c, historia

def ejemplo_biseccion():
    """Ejemplo de uso del m√©todo de bisecci√≥n"""
    
    # Definir funci√≥n
    def f(x):
        return x**3 - 2*x - 5
    
    # Par√°metros iniciales
    a = 2.0
    b = 3.0
    tol = 1e-6
    max_iter = 50
    
    print("="*70)
    print("M√âTODO DE BISECCI√ìN")
    print("="*70)
    print(f"Funci√≥n: f(x) = x¬≥ - 2x - 5")
    print(f"Intervalo inicial: [{a}, {b}]")
    print(f"Tolerancia: {tol}")
    print(f"Iteraciones m√°ximas: {max_iter}")
    print("="*70)
    
    try:
        # Ejecutar m√©todo de bisecci√≥n
        raiz, historia = biseccion(f, a, b, tol, max_iter)
        
        # Mostrar resultados
        print(f"\n‚úì Ra√≠z aproximada: {raiz:.8f}")
        print(f"‚úì f(ra√≠z) = {f(raiz):.2e}")
        print(f"‚úì Iteraciones realizadas: {len(historia)}")
        
        # Calcular n√∫mero te√≥rico de iteraciones
        n_teorico = np.ceil(np.log((b-a)/tol) / np.log(2))
        print(f"‚úì Iteraciones te√≥ricas necesarias: {int(n_teorico)}")
        
        # Mostrar tabla de iteraciones
        print("\n" + "="*70)
        print("Iter |     a     |     b     |     c     |    f(c)    |   Error")
        print("-"*70)
        for i, (iter_num, a_i, b_i, c_i, fc_i, error_i) in enumerate(historia):
            if i < 5 or i >= len(historia)-5:  # Mostrar primeras y √∫ltimas 5
                print(f"{iter_num:4d} | {a_i:9.6f} | {b_i:9.6f} | {c_i:9.6f} | {fc_i:10.6f} | {error_i:9.6f}")
                if i == 4 and len(historia) > 10:
                    print("  ...      ...         ...         ...           ...         ...")
        
        print("="*70)
        
        # An√°lisis de convergencia
        print("\nüìà AN√ÅLISIS DE CONVERGENCIA")
        print("-"*40)
        
        # Calcular tasa de convergencia
        if len(historia) > 2:
            errores = [h[5] for h in historia]  # error_i
            tasa = errores[-1] / errores[-2]
            print(f"Tasa de reducci√≥n del error: {tasa:.3f}")
            print(f"Orden de convergencia: Lineal (r = 0.5 te√≥rico)")
        
        # Verificar soluci√≥n
        print(f"\n‚úÖ VERIFICACI√ìN")
        print(f"Valor absoluto f(ra√≠z): {abs(f(raiz)):.2e}")
        print(f"Tolerancia alcanzada: {'S√≠' if abs(f(raiz)) < tol else 'No'}")
        
        return raiz, historia
        
    except ValueError as e:
        print(f"‚ùå Error: {e}")
        return None, None

# Ejecutar ejemplo si se corre directamente
if __name__ == "__main__":
    ejemplo_biseccion()</pre>
                    </div>
                </div>

                <!-- VENTAJAS Y DESVENTAJAS -->
                <div class="section">
                    <h3><i class="fas fa-balance-scale"></i> Ventajas y Desventajas</h3>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Ventajas ‚úÖ</th>
                                    <th>Desventajas ‚ùå</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <strong>Convergencia garantizada</strong><br>
                                        Si $f(a)f(b) < 0$, siempre converge
                                    </td>
                                    <td>
                                        <strong>Convergencia lenta</strong><br>
                                        Solo reduce error a la mitad por iteraci√≥n
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>Simple y robusto</strong><br>
                                        F√°cil de implementar
                                    </td>
                                    <td>
                                        <strong>Requiere intervalo inicial</strong><br>
                                        Necesita conocer $a,b$ con cambio de signo
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>No necesita derivadas</strong><br>
                                        Solo evaluaciones de funci√≥n
                                    </td>
                                    <td>
                                        <strong>No aprovecha informaci√≥n adicional</strong><br>
                                        Ignora forma de la funci√≥n
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>Error acotado</strong><br>
                                        Siempre sabemos el error m√°ximo
                                    </td>
                                    <td>
                                        <strong>Ineficiente para ra√≠ces m√∫ltiples</strong><br>
                                        Puede converger lentamente
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="highlight">
                        <strong>üéØ Recomendaciones de uso:</strong>
                        <ul>
                            <li>Usar cuando no se conoce la derivada</li>
                            <li>Ideal para funciones continuas con cambio de signo conocido</li>
                            <li>Buen m√©todo inicial para refinar con m√©todos m√°s r√°pidos</li>
                            <li>Excelente para demostraciones y ense√±anza</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- =============================================
                    ACTIVIDAD 2: SECANTE
        ============================================== -->
        <div id="act2" class="activity-content" style="display: none;">
            <div class="activity-container">
                <h2>Actividad 2 ‚Äî M√©todo de la Secante</h2>
                
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="showActivity('menu')">
                        <i class="fas fa-arrow-left"></i> Volver al Men√∫
                    </button>
                    <button class="btn btn-secondary" onclick="window.open('Secante.pdf', '_blank')">
                        <i class="fas fa-file-pdf"></i> Ver PDF
                    </button>
                    <button class="btn btn-primary" onclick="ejecutarSecante()">
                        <i class="fas fa-play"></i> Ejecutar Secante
                    </button>
                </div>

                <!-- TEOR√çA -->
                <div class="section">
                    <h3><i class="fas fa-book"></i> Teor√≠a del M√©todo de la Secante</h3>
                    <p>El m√©todo de la secante es un m√©todo iterativo que aproxima la ra√≠z mediante interpolaci√≥n lineal entre dos puntos. Es similar al m√©todo de Newton pero <strong>no requiere derivadas</strong>.</p>
                    
                    <div class="formula-container">
                        <h4>üìê Interpretaci√≥n Geom√©trica</h4>
                        <p>Dados dos puntos $(x_0, f(x_0))$ y $(x_1, f(x_1))$, trazamos una recta secante. Donde esta recta corta el eje x es nuestra siguiente aproximaci√≥n $x_2$.</p>
                        <div class="formula">
                            $$ x_{n+1} = x_n - f(x_n) \cdot \frac{x_n - x_{n-1}}{f(x_n) - f(x_{n-1})} $$
                        </div>
                        <p>La f√≥rmula se obtiene resolviendo la ecuaci√≥n de la recta secante:</p>
                        <div class="formula">
                            $$ y - f(x_n) = \frac{f(x_n) - f(x_{n-1})}{x_n - x_{n-1}} (x - x_n) $$
                            $$ \text{Para } y=0: x = x_n - f(x_n) \cdot \frac{x_n - x_{n-1}}{f(x_n) - f(x_{n-1})} $$
                        </div>
                    </div>
                </div>

                <!-- F√ìRMULAS -->
                <div class="section">
                    <h3><i class="fas fa-calculator"></i> F√≥rmulas Matem√°ticas</h3>
                    
                    <div class="formula">
                        <strong>F√≥rmula de la secante:</strong>
                        $$ x_{n+1} = x_n - f(x_n) \cdot \frac{x_n - x_{n-1}}{f(x_n) - f(x_{n-1})} $$
                    </div>
                    
                    <div class="formula">
                        <strong>Orden de convergencia:</strong>
                        $$ p = \frac{1 + \sqrt{5}}{2} \approx 1.618 $$
                        <small>El n√∫mero √°ureo - convergencia superlineal</small>
                    </div>
                    
                    <div class="formula">
                        <strong>Error estimado:</strong>
                        $$ e_{n+1} \approx C \cdot e_n^p $$
                        <small>Donde $C$ es constante y $p \approx 1.618$</small>
                    </div>
                    
                    <div class="formula">
                        <strong>Criterio de parada:</strong>
                        $$ |x_{n+1} - x_n| < \epsilon \quad \text{o} \quad |f(x_{n+1})| < \epsilon $$
                    </div>
                </div>

                <!-- EJEMPLO PASO A PASO -->
                <div class="section">
                    <h3><i class="fas fa-walking"></i> Ejemplo Paso a Paso</h3>
                    <p><strong>Problema:</strong> Encontrar ra√≠z de $f(x) = x^2 - 4$ empezando con $x_0=1$, $x_1=3$</p>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Iter</th>
                                    <th>$x_{n-1}$</th>
                                    <th>$x_n$</th>
                                    <th>$f(x_{n-1})$</th>
                                    <th>$f(x_n)$</th>
                                    <th>$x_{n+1}$</th>
                                    <th>Error</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>1.0000</td>
                                    <td>3.0000</td>
                                    <td>-3.0000</td>
                                    <td>5.0000</td>
                                    <td><strong>2.1250</strong></td>
                                    <td>0.8750</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>3.0000</td>
                                    <td>2.1250</td>
                                    <td>5.0000</td>
                                    <td>0.5156</td>
                                    <td><strong>2.0008</strong></td>
                                    <td>0.1242</td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>2.1250</td>
                                    <td>2.0008</td>
                                    <td>0.5156</td>
                                    <td>0.0033</td>
                                    <td><strong>2.0000</strong></td>
                                    <td>0.0008</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>2.0008</td>
                                    <td>2.0000</td>
                                    <td>0.0033</td>
                                    <td>0.0000</td>
                                    <td><strong>2.0000</strong></td>
                                    <td>0.0000</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="note">
                        <strong>üí° Observaci√≥n:</strong> ¬°Solo 4 iteraciones para alcanzar 4 decimales exactos! 
                        El m√©todo converge m√°s r√°pido que bisecci√≥n (que requerir√≠a ~14 iteraciones para misma precisi√≥n).
                    </div>
                </div>

                <!-- SIMULACI√ìN INTERACTIVA -->
                <div class="simulation-container">
                    <h3><i class="fas fa-gamepad"></i> Simulaci√≥n Interactiva</h3>
                    
                    <div class="input-group">
                        <input type="text" id="funcSecante" class="input-field" 
                               placeholder="Funci√≥n f(x). Ej: x^2 - 4" 
                               value="x^2 - 4">
                        <input type="number" id="x0Secante" class="input-field" 
                               placeholder="Primer punto x‚ÇÄ" value="1" step="0.1">
                        <input type="number" id="x1Secante" class="input-field" 
                               placeholder="Segundo punto x‚ÇÅ" value="3" step="0.1">
                        <input type="number" id="tolSecante" class="input-field" 
                               placeholder="Tolerancia" value="0.0001" step="0.0001">
                        <input type="number" id="iterSecante" class="input-field" 
                               placeholder="Iteraciones m√°x" value="50" min="1">
                    </div>
                    
                    <button class="btn btn-primary" onclick="ejecutarSecante()">
                        <i class="fas fa-rocket"></i> Ejecutar M√©todo de la Secante
                    </button>
                    
                    <div class="results" id="resultadosSecante">
                        <p style="color: var(--gris-medio); text-align: center;">
                            <i class="fas fa-hourglass-start"></i> Los resultados aparecer√°n aqu√≠...
                        </p>
                    </div>
                    
                    <div class="canvas-container">
                        <canvas id="graficoSecante" width="800" height="400"></canvas>
                    </div>
                </div>

                <!-- COMPARACI√ìN CON NEWTON -->
                <div class="section">
                    <h3><i class="fas fa-balance-scale"></i> Comparaci√≥n: Secante vs Newton</h3>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Aspecto</th>
                                    <th>M√©todo de la Secante</th>
                                    <th>M√©todo de Newton</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Derivadas</strong></td>
                                    <td>‚ùå No necesita</td>
                                    <td>‚úÖ Necesita $f'(x)$</td>
                                </tr>
                                <tr>
                                    <td><strong>Convergencia</strong></td>
                                    <td>Superlineal (1.618)</td>
                                    <td>Cuadr√°tica (2.0)</td>
                                </tr>
                                <tr>
                                    <td><strong>Iteraciones por paso</strong></td>
                                    <td>1 evaluaci√≥n de funci√≥n</td>
                                    <td>1 evaluaci√≥n de funci√≥n + 1 de derivada</td>
                                </tr>
                                <tr>
                                    <td><strong>Puntos iniciales</strong></td>
                                    <td>Necesita 2 puntos</td>
                                    <td>Necesita 1 punto + derivada</td>
                                </tr>
                                <tr>
                                    <td><strong>Eficiencia</strong></td>
                                    <td>1.618 evaluaciones/d√≠gito</td>
                                    <td>2.0 evaluaciones/d√≠gito</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="highlight">
                        <strong>üìä Eficiencia computacional:</strong>
                        <p>Aunque Newton converge m√°s r√°pido por iteraci√≥n, la secante puede ser <strong>m√°s eficiente en tiempo total</strong> porque no requiere calcular derivadas, lo cual puede ser costoso.</p>
                        <div class="formula">
                            $$ \text{Eficiencia} = \text{(orden de convergencia)}^{1/\text{(costo por iteraci√≥n)}} $$
                            $$ \text{Secante: } 1.618^{1/1} = 1.618 $$
                            $$ \text{Newton: } 2.0^{1/2} = 1.414 $$
                        </div>
                        <p>¬°La secante es <strong>m√°s eficiente</strong> por evaluaci√≥n de funci√≥n!</p>
                    </div>
                </div>

                <!-- C√ìDIGO PYTHON -->
                <div class="section">
                    <h3><i class="fas fa-code"></i> Implementaci√≥n en Python</h3>
                    <div class="code-container">
                        <div class="code-header">
                            <span>secante.py</span>
                            <button class="btn btn-secondary" onclick="copiarCodigo('codigoSecante')" 
                                    style="padding: 0.3rem 0.8rem; font-size: 0.8rem;">
                                <i class="fas fa-copy"></i> Copiar
                            </button>
                        </div>
                        <pre class="code" id="codigoSecante">import numpy as np

def secante(f, x0, x1, tol=1e-6, max_iter=100):
    """
    M√©todo de la secante para encontrar ra√≠ces de f(x)=0.
    
    Par√°metros:
    -----------
    f : funci√≥n
        Funci√≥n continua f(x)
    x0, x1 : float
        Dos aproximaciones iniciales
    tol : float
        Tolerancia para el error
    max_iter : int
        M√°ximo n√∫mero de iteraciones
    
    Retorna:
    --------
    x2 : float
        Aproximaci√≥n de la ra√≠z
    historia : list
        Lista de tuplas (iter, x0, x1, x2, f(x2), error)
    """
    
    historia = []
    
    for i in range(max_iter):
        # Evaluar funci√≥n en puntos actuales
        f0 = f(x0)
        f1 = f(x1)
        
        # Evitar divisi√≥n por cero
        if abs(f1 - f0) < 1e-12:
            print("‚ö† Advertencia: Denominador muy peque√±o, posible divisi√≥n por cero")
            break
        
        # Aplicar f√≥rmula de la secante
        x2 = x1 - f1 * (x1 - x0) / (f1 - f0)
        f2 = f(x2)
        
        # Calcular error (diferencia entre iteraciones)
        error = abs(x2 - x1)
        
        # Guardar en historial
        historia.append((i+1, x0, x1, x2, f2, error))
        
        # Verificar convergencia
        if abs(f2) < tol or error < tol:
            print(f"‚úì Convergencia alcanzada en {i+1} iteraciones")
            break
        
        # Actualizar puntos para siguiente iteraci√≥n
        x0, x1 = x1, x2
    else:
        print(f"‚ö† Se alcanz√≥ el m√°ximo de {max_iter} iteraciones sin converger")
    
    return x2, historia

def ejemplo_secante():
    """Ejemplo de uso del m√©todo de la secante"""
    
    # Definir funci√≥n
    def f(x):
        return x**2 - 4
    
    # Par√°metros iniciales
    x0 = 1.0
    x1 = 3.0
    tol = 1e-6
    max_iter = 50
    
    print("="*70)
    print("M√âTODO DE LA SECANTE")
    print("="*70)
    print(f"Funci√≥n: f(x) = x¬≤ - 4")
    print(f"Puntos iniciales: x0 = {x0}, x1 = {x1}")
    print(f"Tolerancia: {tol}")
    print(f"Iteraciones m√°ximas: {max_iter}")
    print("="*70)
    
    # Ejecutar m√©todo de la secante
    raiz, historia = secante(f, x0, x1, tol, max_iter)
    
    # Mostrar resultados
    print(f"\n‚úì Ra√≠z aproximada: {raiz:.8f}")
    print(f"‚úì f(ra√≠z) = {f(raiz):.2e}")
    print(f"‚úì Iteraciones realizadas: {len(historia)}")
    
    # Mostrar tabla de iteraciones
    print("\n" + "="*70)
    print("Iter |   x_{n-1}   |     x_n     |   x_{n+1}   |   f(x_{n+1})   |   Error")
    print("-"*70)
    for i, (iter_num, x0_i, x1_i, x2_i, f2_i, error_i) in enumerate(historia):
        if i < 3 or i >= len(historia)-3:  # Mostrar primeras y √∫ltimas 3
            print(f"{iter_num:4d} | {x0_i:10.6f} | {x1_i:10.6f} | {x2_i:10.6f} | {f2_i:14.6e} | {error_i:10.6f}")
            if i == 2 and len(historia) > 6:
                print("  ...        ...            ...            ...            ...              ...")
    
    print("="*70)
    
    # An√°lisis de convergencia
    print("\nüìà AN√ÅLISIS DE CONVERGENCIA")
    print("-"*40)
    
    if len(historia) > 3:
        # Calcular orden de convergencia aproximado
        errores = [h[5] for h in historia]  # error_i
        if len(errores) >= 4:
            p_aproximado = np.log(errores[-1]/errores[-2]) / np.log(errores[-2]/errores[-3])
            print(f"Orden de convergencia estimado: {p_aproximado:.3f}")
            print(f"Orden te√≥rico (n√∫mero √°ureo): {1.618:.3f}")
    
    # Verificar soluci√≥n
    print(f"\n‚úÖ VERIFICACI√ìN")
    raiz_exacta = 2.0
    error_abs = abs(raiz - raiz_exacta)
    print(f"Ra√≠z exacta: {raiz_exacta}")
    print(f"Error absoluto: {error_abs:.2e}")
    print(f"Tolerancia alcanzada: {'S√≠' if error_abs < tol else 'No'}")
    
    return raiz, historia

# Ejecutar ejemplo si se corre directamente
if __name__ == "__main__":
    ejemplo_secante()</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- =============================================
                    ACTIVIDAD 3: PUNTO FIJO
        ============================================== -->
        <div id="act3" class="activity-content" style="display: none;">
            <div class="activity-container">
                <h2>Actividad 3 ‚Äî M√©todo del Punto Fijo</h2>
                
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="showActivity('menu')">
                        <i class="fas fa-arrow-left"></i> Volver al Men√∫
                    </button>
                    <button class="btn btn-secondary" onclick="window.open('Puntofijo.pdf', '_blank')">
                        <i class="fas fa-file-pdf"></i> Ver PDF
                    </button>
                    <button class="btn btn-primary" onclick="ejecutarPuntoFijo()">
                        <i class="fas fa-play"></i> Ejecutar Punto Fijo
                    </button>
                </div>

                <!-- TEOR√çA -->
                <div class="section">
                    <h3><i class="fas fa-book"></i> Teor√≠a del M√©todo del Punto Fijo</h3>
                    <p>El m√©todo del punto fijo transforma el problema $f(x)=0$ en un problema equivalente $x = g(x)$. Un punto fijo $\alpha$ satisface $\alpha = g(\alpha)$.</p>
                    
                    <div class="formula-container">
                        <h4>üìù Transformaci√≥n del Problema</h4>
                        <div class="formula">
                            $$ f(x) = 0 \quad \Rightarrow \quad x = g(x) $$
                        </div>
                        <p>Donde $g(x)$ se obtiene despejando $x$ de $f(x)=0$ de alguna manera.</p>
                        
                        <div class="warning">
                            <strong>‚ö†Ô∏è Importante:</strong> Hay infinitas formas de definir $g(x)$. La elecci√≥n afecta la convergencia.
                        </div>
                    </div>
                    
                    <div class="formula-container">
                        <h4>üéØ Teorema del Punto Fijo</h4>
                        <div class="formula">
                            Si $g: [a,b] \to [a,b]$ es continua y existe $k < 1$ tal que
                            $$ |g'(x)| \leq k < 1 \quad \text{para todo } x \in [a,b] $$
                            entonces:
                            <ol>
                                <li>Existe un √∫nico punto fijo $\alpha \in [a,b]$</li>
                                <li>La iteraci√≥n $x_{n+1} = g(x_n)$ converge a $\alpha$</li>
                                <li>$|\alpha - x_n| \leq \frac{k^n}{1-k}|x_1 - x_0|$</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <!-- F√ìRMULAS -->
                <div class="section">
                    <h3><i class="fas fa-calculator"></i> F√≥rmulas Matem√°ticas</h3>
                    
                    <div class="formula">
                        <strong>Iteraci√≥n del punto fijo:</strong>
                        $$ x_{n+1} = g(x_n) $$
                    </div>
                    
                    <div class="formula">
                        <strong>Error en iteraci√≥n n:</strong>
                        $$ |\alpha - x_n| \leq \frac{k^n}{1-k}|x_1 - x_0| $$
                        <small>Donde $k = \max |g'(x)|$ en el intervalo</small>
                    </div>
                    
                    <div class="formula">
                        <strong>Criterio de convergencia:</strong>
                        $$ |g'(x)| < 1 \quad \text{en una vecindad del punto fijo} $$
                    </div>
                    
                    <div class="formula">
                        <strong>Tasa de convergencia lineal:</strong>
                        $$ \lim_{n\to\infty} \frac{|\alpha - x_{n+1}|}{|\alpha - x_n|} = |g'(\alpha)| $$
                    </div>
                </div>

                <!-- EJEMPLOS DE TRANSFORMACI√ìN -->
                <div class="section">
                    <h3><i class="fas fa-exchange-alt"></i> Ejemplos de Transformaci√≥n $f(x)=0 \to x=g(x)$</h3>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Ecuaci√≥n $f(x)=0$</th>
                                    <th>Transformaci√≥n $x = g(x)$</th>
                                    <th>Converge si...</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>$x^2 - 4 = 0$</td>
                                    <td>$x = \frac{4}{x}$</td>
                                    <td>‚ùå $|g'(x)| = |-\frac{4}{x^2}|$ puede ser > 1</td>
                                </tr>
                                <tr>
                                    <td>$x^2 - 4 = 0$</td>
                                    <td>$x = \frac{x + 4/x}{2}$</td>
                                    <td>‚úÖ Newton (converge cuadr√°ticamente)</td>
                                </tr>
                                <tr>
                                    <td>$x^2 - 4 = 0$</td>
                                    <td>$x = \sqrt{4}$</td>
                                    <td>‚úÖ $g'(x)=0$ (converge en un paso)</td>
                                </tr>
                                <tr>
                                    <td>$e^x - 2 = 0$</td>
                                    <td>$x = \ln(2)$</td>
                                    <td>‚úÖ Soluci√≥n exacta</td>
                                </tr>
                                <tr>
                                    <td>$e^x - 2 = 0$</td>
                                    <td>$x = x - 0.5(e^x - 2)$</td>
                                    <td>‚ö†Ô∏è Depende del valor inicial</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="highlight">
                        <strong>üí° Regla pr√°ctica:</strong> Para $f(x)=0$, una buena $g(x)$ es:
                        $$ g(x) = x - \lambda f(x) $$
                        donde $\lambda$ se elige para que $|g'(x)| < 1$.
                    </div>
                </div>

                <!-- EJEMPLO PASO A PASO -->
                <div class="section">
                    <h3><i class="fas fa-walking"></i> Ejemplo Paso a Paso</h3>
                    <p><strong>Problema:</strong> Resolver $x - \cos(x) = 0$ usando $g(x) = \cos(x)$</p>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Iter</th>
                                    <th>$x_n$</th>
                                    <th>$g(x_n) = \cos(x_n)$</th>
                                    <th>$x_{n+1}$</th>
                                    <th>Error</th>
                                    <th>$|g'(x_n)|$</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>0</td>
                                    <td>0.5000</td>
                                    <td>0.8776</td>
                                    <td><strong>0.8776</strong></td>
                                    <td>0.3776</td>
                                    <td>0.4794</td>
                                </tr>
                                <tr>
                                    <td>1</td>
                                    <td>0.8776</td>
                                    <td>0.6390</td>
                                    <td><strong>0.6390</strong></td>
                                    <td>0.2386</td>
                                    <td>0.8021</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>0.6390</td>
                                    <td>0.8027</td>
                                    <td><strong>0.8027</strong></td>
                                    <td>0.1637</td>
                                    <td>0.6952</td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>0.8027</td>
                                    <td>0.6948</td>
                                    <td><strong>0.6948</strong></td>
                                    <td>0.1079</td>
                                    <td>0.7682</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>0.6948</td>
                                    <td>0.7682</td>
                                    <td><strong>0.7682</strong></td>
                                    <td>0.0734</td>
                                    <td>0.7195</td>
                                </tr>
                                <tr>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                </tr>
                                <tr style="background-color: var(--azul-claro);">
                                    <td><strong>12</strong></td>
                                    <td><strong>0.7391</strong></td>
                                    <td><strong>0.7391</strong></td>
                                    <td><strong style="color: var(--verde);">0.7391</strong></td>
                                    <td>0.0000</td>
                                    <td>0.6736</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="note">
                        <strong>üí° Observaci√≥n:</strong> $|g'(x)| = |-\sin(x)| < 1$ para todo $x$, por lo que el m√©todo converge. 
                        La soluci√≥n es $x \approx 0.739085$ (conocido como <strong>constante de Dottie</strong>).
                    </div>
                </div>

                <!-- SIMULACI√ìN INTERACTIVA -->
                <div class="simulation-container">
                    <h3><i class="fas fa-gamepad"></i> Simulaci√≥n Interactiva</h3>
                    
                    <div class="input-group">
                        <input type="text" id="funcPuntoFijo" class="input-field" 
                               placeholder="Funci√≥n g(x). Ej: cos(x)" 
                               value="cos(x)">
                        <input type="number" id="x0PuntoFijo" class="input-field" 
                               placeholder="Valor inicial x‚ÇÄ" value="0.5" step="0.1">
                        <input type="number" id="tolPuntoFijo" class="input-field" 
                               placeholder="Tolerancia" value="0.0001" step="0.0001">
                        <input type="number" id="iterPuntoFijo" class="input-field" 
                               placeholder="Iteraciones m√°x" value="50" min="1">
                        <select id="tipoPuntoFijo" class="input-field">
                            <option value="simple">Iteraci√≥n Simple</option>
                            <option value="acelerada">Aceleraci√≥n de Aitken</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-primary" onclick="ejecutarPuntoFijo()">
                        <i class="fas fa-rocket"></i> Ejecutar M√©todo del Punto Fijo
                    </button>
                    
                    <div class="results" id="resultadosPuntoFijo">
                        <p style="color: var(--gris-medio); text-align: center;">
                            <i class="fas fa-hourglass-start"></i> Los resultados aparecer√°n aqu√≠...
                        </p>
                    </div>
                    
                    <div class="canvas-container">
                        <canvas id="graficoPuntoFijo" width="800" height="400"></canvas>
                    </div>
                </div>

                <!-- C√ìDIGO PYTHON -->
                <div class="section">
                    <h3><i class="fas fa-code"></i> Implementaci√≥n en Python</h3>
                    <div class="code-container">
                        <div class="code-header">
                            <span>punto_fijo.py</span>
                            <button class="btn btn-secondary" onclick="copiarCodigo('codigoPuntoFijo')" 
                                    style="padding: 0.3rem 0.8rem; font-size: 0.8rem;">
                                <i class="fas fa-copy"></i> Copiar
                            </button>
                        </div>
                        <pre class="code" id="codigoPuntoFijo">import numpy as np

def punto_fijo(g, x0, tol=1e-6, max_iter=100):
    """
    M√©todo del punto fijo para resolver x = g(x).
    
    Par√°metros:
    -----------
    g : funci√≥n
        Funci√≥n de iteraci√≥n g(x)
    x0 : float
        Aproximaci√≥n inicial
    tol : float
        Tolerancia para el error
    max_iter : int
        M√°ximo n√∫mero de iteraciones
    
    Retorna:
    --------
    x1 : float
        Aproximaci√≥n del punto fijo
    historia : list
        Lista de tuplas (iter, x_n, x_{n+1}, g(x_n), error)
    """
    
    historia = []
    x_actual = x0
    
    for i in range(max_iter):
        # Aplicar iteraci√≥n del punto fijo
        x_siguiente = g(x_actual)
        error = abs(x_siguiente - x_actual)
        
        # Guardar en historial
        historia.append((i+1, x_actual, x_siguiente, g(x_actual), error))
        
        # Verificar convergencia
        if error < tol:
            print(f"‚úì Convergencia alcanzada en {i+1} iteraciones")
            break
        
        # Actualizar para siguiente iteraci√≥n
        x_actual = x_siguiente
    else:
        print(f"‚ö† Se alcanz√≥ el m√°ximo de {max_iter} iteraciones sin converger")
    
    return x_siguiente, historia

def aitken_aceleracion(historia):
    """
    Aplica aceleraci√≥n de Aitken a la sucesi√≥n del punto fijo.
    
    Par√°metros:
    -----------
    historia : list
        Historial del m√©todo del punto fijo
    
    Retorna:
    --------
    x_acelerados : list
        Valores acelerados
    """
    if len(historia) < 3:
        return []
    
    x_acelerados = []
    for i in range(len(historia) - 2):
        x_n = historia[i][1]      # x_n
        x_n1 = historia[i+1][1]   # x_{n+1}
        x_n2 = historia[i+2][1]   # x_{n+2}
        
        # F√≥rmula de aceleraci√≥n de Aitken
        x_acel = x_n - (x_n1 - x_n)**2 / (x_n2 - 2*x_n1 + x_n)
        x_acelerados.append(x_acel)
    
    return x_acelerados

def ejemplo_punto_fijo():
    """Ejemplo de uso del m√©todo del punto fijo"""
    
    # Definir funci√≥n de iteraci√≥n
    def g(x):
        return np.cos(x)  # Resolver x = cos(x)
    
    # Par√°metros iniciales
    x0 = 0.5
    tol = 1e-6
    max_iter = 50
    
    print("="*70)
    print("M√âTODO DEL PUNTO FIJO")
    print("="*70)
    print(f"Funci√≥n de iteraci√≥n: g(x) = cos(x)")
    print(f"Valor inicial: x0 = {x0}")
    print(f"Tolerancia: {tol}")
    print(f"Iteraciones m√°ximas: {max_iter}")
    print("="*70)
    
    # Ejecutar m√©todo del punto fijo
    punto_f, historia = punto_fijo(g, x0, tol, max_iter)
    
    # Mostrar resultados
    print(f"\n‚úì Punto fijo aproximado: {punto_f:.8f}")
    print(f"‚úì g(punto fijo) = {g(punto_f):.8f}")
    print(f"‚úì Diferencia |x - g(x)| = {abs(punto_f - g(punto_f)):.2e}")
    print(f"‚úì Iteraciones realizadas: {len(historia)}")
    
    # Verificar condici√≥n de convergencia
    derivada = abs(-np.sin(punto_f))
    print(f"‚úì |g'(x*)| = {derivada:.3f} {'< 1' if derivada < 1 else '‚â• 1'}")
    
    # Mostrar tabla de iteraciones
    print("\n" + "="*70)
    print("Iter |     x_n     |   x_{n+1} = g(x_n)   |   g(x_n)   |   Error")
    print("-"*70)
    for i, (iter_num, x_n, x_n1, g_x, error) in enumerate(historia):
        if i < 3 or i >= len(historia)-3:  # Mostrar primeras y √∫ltimas 3
            print(f"{iter_num:4d} | {x_n:10.6f} | {x_n1:18.6f} | {g_x:10.6f} | {error:10.6f}")
            if i == 2 and len(historia) > 6:
                print("  ...        ...                ...            ...          ...")
    
    print("="*70)
    
    # Aplicar aceleraci√≥n de Aitken si hay suficientes puntos
    if len(historia) >= 5:
        acelerados = aitken_aceleracion(historia)
        if acelerados:
            print(f"\nüöÄ ACELERACI√ìN DE AITKEN (√∫ltimos 3 valores):")
            for i, x_acel in enumerate(acelerados[-3:], 1):
                print(f"  x_acel_{i}: {x_acel:.8f}")
            print(f"  Mejora: {abs(acelerados[-1] - punto_f):.2e} m√°s preciso")
    
    # An√°lisis de convergencia
    print(f"\nüìà AN√ÅLISIS DE CONVERGENCIA")
    print("-"*40)
    
    if len(historia) > 2:
        errores = [h[4] for h in historia]  # error_i
        tasa_promedio = np.mean([errores[i+1]/errores[i] for i in range(len(errores)-1)])
        print(f"Tasa de convergencia promedio: {tasa_promedio:.3f}")
        print(f"Tasa te√≥rica |g'(x*)|: {derivada:.3f}")
    
    return punto_f, historia

# Ejecutar ejemplo si se corre directamente
if __name__ == "__main__":
    ejemplo_punto_fijo()</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- =============================================
                    ACTIVIDAD 4: REGULA FALSI
        ============================================== -->
        <div id="act4" class="activity-content" style="display: none;">
            <div class="activity-container">
                <h2>Actividad 4 ‚Äî M√©todo de Regula Falsi</h2>
                
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="showActivity('menu')">
                        <i class="fas fa-arrow-left"></i> Volver al Men√∫
                    </button>
                    <button class="btn btn-secondary" onclick="window.open('Regulafalsi.pdf', '_blank')">
                        <i class="fas fa-file-pdf"></i> Ver PDF
                    </button>
                    <button class="btn btn-primary" onclick="ejecutarRegulaFalsi()">
                        <i class="fas fa-play"></i> Ejecutar Regula Falsi
                    </button>
                </div>

                <!-- TEOR√çA -->
                <div class="section">
                    <h3><i class="fas fa-book"></i> Teor√≠a del M√©todo de Regula Falsi</h3>
                    <p>Tambi√©n conocido como <strong>m√©todo de la falsa posici√≥n</strong>. Es un m√©todo h√≠brido que combina las ideas de bisecci√≥n (garant√≠a de convergencia) y secante (uso de interpolaci√≥n lineal).</p>
                    
                    <div class="formula-container">
                        <h4>üìê Idea Geom√©trica</h4>
                        <p>Dados dos puntos $(a, f(a))$ y $(b, f(b))$ con $f(a)f(b) < 0$, trazamos una recta entre ellos. Donde esta recta corta el eje x es nuestra nueva aproximaci√≥n.</p>
                        <div class="formula">
                            $$ x_r = b - f(b) \cdot \frac{b - a}{f(b) - f(a)} $$
                        </div>
                        <p>Similar a la secante, pero siempre manteniendo un intervalo $[a,b]$ donde la funci√≥n cambia de signo.</p>
                    </div>
                    
                    <div class="formula-container">
                        <h4>üîÑ Algoritmo de Regula Falsi</h4>
                        <ol>
                            <li>Verificar $f(a) \cdot f(b) < 0$</li>
                            <li>Calcular $x_r = b - f(b)\frac{b-a}{f(b)-f(a)}$</li>
                            <li>Evaluar $f(x_r)$</li>
                            <li>Si $f(a) \cdot f(x_r) < 0$, entonces $b = x_r$</li>
                            <li>Si $f(b) \cdot f(x_r) < 0$, entonces $a = x_r$</li>
                            <li>Repetir hasta convergencia</li>
                        </ol>
                    </div>
                </div>

                <!-- F√ìRMULAS -->
                <div class="section">
                    <h3><i class="fas fa-calculator"></i> F√≥rmulas Matem√°ticas</h3>
                    
                    <div class="formula">
                        <strong>F√≥rmula de Regula Falsi:</strong>
                        $$ x_r = b - f(b) \cdot \frac{b - a}{f(b) - f(a)} $$
                    </div>
                    
                    <div class="formula">
                        <strong>Forma alternativa:</strong>
                        $$ x_r = \frac{a \cdot f(b) - b \cdot f(a)}{f(b) - f(a)} $$
                    </div>
                    
                    <div class="formula">
                        <strong>Error estimado:</strong>
                        $$ |x_r - \alpha| \approx \left|\frac{f''(\xi)}{2f'(\xi)}\right| \cdot (x_r - a)(x_r - b) $$
                    </div>
                    
                    <div class="formula">
                        <strong>Orden de convergencia:</strong>
                        $$ p = 1 \quad \text{(convergencia lineal)} $$
                    </div>
                </div>

                <!-- COMPARACI√ìN CON BISECCI√ìN -->
                <div class="section">
                    <h3><i class="fas fa-balance-scale"></i> Comparaci√≥n: Regula Falsi vs Bisecci√≥n</h3>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Caracter√≠stica</th>
                                    <th>Bisecci√≥n</th>
                                    <th>Regula Falsi</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>F√≥rmula</strong></td>
                                    <td>$c = \frac{a+b}{2}$</td>
                                    <td>$x_r = b - f(b)\frac{b-a}{f(b)-f(a)}$</td>
                                </tr>
                                <tr>
                                    <td><strong>Convergencia</strong></td>
                                    <td>Garantizada</td>
                                    <td>Garantizada</td>
                                </tr>
                                <tr>
                                    <td><strong>Velocidad</strong></td>
                                    <td>Lenta (r=0.5)</td>
                                    <td>Variable (usualmente m√°s r√°pida)</td>
                                </tr>
                                <tr>
                                    <td><strong>Uso de informaci√≥n</strong></td>
                                    <td>Solo signos</td>
                                    <td>Valores de funci√≥n</td>
                                </tr>
                                <tr>
                                    <td><strong>Problema potencial</strong></td>
                                    <td>Ninguno</td>
                                    <td>Convergencia unilateral lenta</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="warning">
                        <strong>‚ö†Ô∏è Problema de convergencia unilateral:</strong> A veces Regula Falsi puede quedar "pegado" a un extremo del intervalo, convergiendo muy lentamente. Existen modificaciones (Illinois, Pegasus) para solucionar esto.
                    </div>
                </div>

                <!-- EJEMPLO PASO A PASO -->
                <div class="section">
                    <h3><i class="fas fa-walking"></i> Ejemplo Paso a Paso</h3>
                    <p><strong>Problema:</strong> Encontrar ra√≠z de $f(x) = x^3 - 2x - 5$ en $[2, 3]$</p>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Iter</th>
                                    <th>$a$</th>
                                    <th>$b$</th>
                                    <th>$f(a)$</th>
                                    <th>$f(b)$</th>
                                    <th>$x_r$</th>
                                    <th>$f(x_r)$</th>
                                    <th>Error</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>2.0000</td>
                                    <td>3.0000</td>
                                    <td>-1.0000</td>
                                    <td>16.0000</td>
                                    <td><strong>2.0588</strong></td>
                                    <td>-0.3908</td>
                                    <td>0.0588</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>2.0588</td>
                                    <td>3.0000</td>
                                    <td>-0.3908</td>
                                    <td>16.0000</td>
                                    <td><strong>2.0813</strong></td>
                                    <td>-0.1472</td>
                                    <td>0.0225</td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>2.0813</td>
                                    <td>3.0000</td>
                                    <td>-0.1472</td>
                                    <td>16.0000</td>
                                    <td><strong>2.0898</strong></td>
                                    <td>-0.0548</td>
                                    <td>0.0085</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>2.0898</td>
                                    <td>3.0000</td>
                                    <td>-0.0548</td>
                                    <td>16.0000</td>
                                    <td><strong>2.0927</strong></td>
                                    <td>-0.0203</td>
                                    <td>0.0029</td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td>2.0927</td>
                                    <td>3.0000</td>
                                    <td>-0.0203</td>
                                    <td>16.0000</td>
                                    <td><strong>2.0938</strong></td>
                                    <td>-0.0075</td>
                                    <td>0.0011</td>
                                </tr>
                                <tr>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                    <td>...</td>
                                </tr>
                                <tr style="background-color: var(--azul-claro);">
                                    <td><strong>9</strong></td>
                                    <td><strong>2.0945</strong></td>
                                    <td><strong>3.0000</strong></td>
                                    <td><strong>-0.0001</strong></td>
                                    <td><strong>16.0000</strong></td>
                                    <td><strong style="color: var(--verde);">2.0946</strong></td>
                                    <td>0.0000</td>
                                    <td>0.0000</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="note">
                        <strong>üí° Observaci√≥n:</strong> Nota c√≥mo el extremo $b=3$ nunca se actualiza porque $f(x_r)$ siempre tiene el mismo signo que $f(a)$. 
                        Esto es un ejemplo de <strong>convergencia unilateral</strong>.
                    </div>
                </div>

                <!-- MODIFICACIONES MEJORADAS -->
                <div class="section">
                    <h3><i class="fas fa-tools"></i> Modificaciones Mejoradas</h3>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>M√©todo</th>
                                    <th>Modificaci√≥n</th>
                                    <th>F√≥rmula de actualizaci√≥n</th>
                                    <th>Ventaja</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Illinois</strong></td>
                                    <td>Reduce peso del extremo estancado</td>
                                    <td>$f(b) \leftarrow f(b)/2$ si no cambia</td>
                                    <td>Corrige convergencia unilateral</td>
                                </tr>
                                <tr>
                                    <td><strong>Pegasus</strong></td>
                                    <td>Reducci√≥n m√°s suave</td>
                                    <td>$f(b) \leftarrow f(b)\frac{f(a)}{f(a)+f(x_r)}$</td>
                                    <td>Mayor velocidad</td>
                                </tr>
                                <tr>
                                    <td><strong>Anderson-Bj√∂rck</strong></td>
                                    <td>Ajuste √≥ptimo</td>
                                    <td>$f(b) \leftarrow f(b)\max(0.5, 1-f(x_r)/f(a))$</td>
                                    <td>Rendimiento superior</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="highlight">
                        <strong>üéØ Illinois Method (implementado en simulaci√≥n):</strong>
                        <p>Cuando el mismo extremo se mantiene por 2 iteraciones consecutivas, se reduce a la mitad el valor de la funci√≥n en ese extremo:</p>
                        <div class="formula">
                            Si $b$ no cambia: $f(b) \leftarrow f(b)/2$
                        </div>
                    </div>
                </div>

                <!-- SIMULACI√ìN INTERACTIVA -->
                <div class="simulation-container">
                    <h3><i class="fas fa-gamepad"></i> Simulaci√≥n Interactiva</h3>
                    
                    <div class="input-group">
                        <input type="text" id="funcRegulaFalsi" class="input-field" 
                               placeholder="Funci√≥n f(x). Ej: x^3 - 2*x - 5" 
                               value="x^3 - 2*x - 5">
                        <input type="number" id="aRegulaFalsi" class="input-field" 
                               placeholder="L√≠mite inferior a" value="2" step="0.1">
                        <input type="number" id="bRegulaFalsi" class="input-field" 
                               placeholder="L√≠mite superior b" value="3" step="0.1">
                        <input type="number" id="tolRegulaFalsi" class="input-field" 
                               placeholder="Tolerancia" value="0.0001" step="0.0001">
                        <select id="tipoRegulaFalsi" class="input-field">
                            <option value="clasico">Regula Falsi Cl√°sico</option>
                            <option value="illinois">Illinois Method</option>
                            <option value="pegasus">Pegasus Method</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-primary" onclick="ejecutarRegulaFalsi()">
                        <i class="fas fa-rocket"></i> Ejecutar Regula Falsi
                    </button>
                    
                    <div class="results" id="resultadosRegulaFalsi">
                        <p style="color: var(--gris-medio); text-align: center;">
                            <i class="fas fa-hourglass-start"></i> Los resultados aparecer√°n aqu√≠...
                        </p>
                    </div>
                    
                    <div class="canvas-container">
                        <canvas id="graficoRegulaFalsi" width="800" height="400"></canvas>
                    </div>
                </div>

                <!-- C√ìDIGO PYTHON -->
                <div class="section">
                    <h3><i class="fas fa-code"></i> Implementaci√≥n en Python</h3>
                    <div class="code-container">
                        <div class="code-header">
                            <span>regula_falsi.py</span>
                            <button class="btn btn-secondary" onclick="copiarCodigo('codigoRegulaFalsi')" 
                                    style="padding: 0.3rem 0.8rem; font-size: 0.8rem;">
                                <i class="fas fa-copy"></i> Copiar
                            </button>
                        </div>
                        <pre class="code" id="codigoRegulaFalsi">import numpy as np

def regula_falsi(f, a, b, tol=1e-6, max_iter=100, metodo='clasico'):
    """
    M√©todo de Regula Falsi (falsa posici√≥n) para encontrar ra√≠ces.
    
    Par√°metros:
    -----------
    f : funci√≥n
        Funci√≥n continua f(x)
    a, b : float
        Extremos del intervalo [a,b] donde f(a)*f(b) < 0
    tol : float
        Tolerancia para el error
    max_iter : int
        M√°ximo n√∫mero de iteraciones
    metodo : str
        'clasico', 'illinois', o 'pegasus'
    
    Retorna:
    --------
    xr : float
        Aproximaci√≥n de la ra√≠z
    historia : list
        Lista de tuplas (iter, a, b, xr, f(xr), error)
    """
    
    # Verificar condiciones iniciales
    fa, fb = f(a), f(b)
    if fa * fb >= 0:
        raise ValueError("No se cumple f(a)*f(b) < 0")
    
    historia = []
    contador_estancamiento = 0
    extremo_estancado = None
    
    for i in range(max_iter):
        # Aplicar f√≥rmula de Regula Falsi
        xr = b - fb * (b - a) / (fb - fa)
        fxr = f(xr)
        error = abs(fxr)
        
        # Guardar en historial
        historia.append((i+1, a, b, xr, fxr, error))
        
        # Verificar convergencia
        if error < tol:
            print(f"‚úì Convergencia alcanzada en {i+1} iteraciones")
            break
        
        # Actualizar intervalo
        if fa * fxr < 0:
            b, fb = xr, fxr
            if extremo_estancado == 'b':
                contador_estancamiento = 0
                extremo_estancado = None
        else:
            a, fa = xr, fxr
            if extremo_estancado == 'a':
                contador_estancamiento = 0
                extremo_estancado = None
        
        # Aplicar modificaciones para evitar estancamiento
        if metodo != 'clasico':
            # Detectar estancamiento
            if i > 0:
                if historia[-1][1] == historia[-2][1]:  # 'a' no cambi√≥
                    extremo_estancado = 'a'
                    contador_estancamiento += 1
                elif historia[-1][2] == historia[-2][2]:  # 'b' no cambi√≥
                    extremo_estancado = 'b'
                    contador_estancamiento += 1
                else:
                    contador_estancamiento = 0
                    extremo_estancado = None
            
            # Aplicar correcci√≥n
            if contador_estancamiento >= 2:
                if metodo == 'illinois':
                    if extremo_estancado == 'b':
                        fb = fb / 2
                    else:  # extremo_estancado == 'a'
                        fa = fa / 2
                    contador_estancamiento = 0
                    print(f"  ‚ö° Aplicada correcci√≥n Illinois en iteraci√≥n {i+1}")
                
                elif metodo == 'pegasus':
                    if extremo_estancado == 'b':
                        fb = fb * fa / (fa + fxr)
                    else:  # extremo_estancado == 'a'
                        fa = fa * fb / (fb + fxr)
                    contador_estancamiento = 0
                    print(f"  ‚ö° Aplicada correcci√≥n Pegasus en iteraci√≥n {i+1}")
    else:
        print(f"‚ö† Se alcanz√≥ el m√°ximo de {max_iter} iteraciones sin converger")
    
    return xr, historia

def ejemplo_regula_falsi():
    """Ejemplo de uso del m√©todo de Regula Falsi"""
    
    # Definir funci√≥n
    def f(x):
        return x**3 - 2*x - 5
    
    # Par√°metros iniciales
    a = 2.0
    b = 3.0
    tol = 1e-6
    max_iter = 50
    
    print("="*70)
    print("M√âTODO DE REGULA FALSI (FALSA POSICI√ìN)")
    print("="*70)
    print(f"Funci√≥n: f(x) = x¬≥ - 2x - 5")
    print(f"Intervalo inicial: [{a}, {b}]")
    print(f"Tolerancia: {tol}")
    print(f"Iteraciones m√°ximas: {max_iter}")
    print("="*70)
    
    # Probar diferentes m√©todos
    metodos = ['clasico', 'illinois', 'pegasus']
    resultados = {}
    
    for metodo in metodos:
        print(f"\n{'='*40}")
        print(f"M√©todo: {metodo.upper()}")
        print(f"{'='*40}")
        
        try:
            raiz, historia = regula_falsi(f, a, b, tol, max_iter, metodo)
            
            resultados[metodo] = {
                'raiz': raiz,
                'iteraciones': len(historia),
                'error_final': abs(f(raiz))
            }
            
            print(f"‚úì Ra√≠z: {raiz:.8f}")
            print(f"‚úì Iteraciones: {len(historia)}")
            print(f"‚úì |f(ra√≠z)|: {abs(f(raiz)):.2e}")
            
            # Mostrar extremos estancados
            a_vals = [h[1] for h in historia]  # valores de a
            b_vals = [h[2] for h in historia]  # valores de b
            
            cambios_a = sum(1 for i in range(1, len(a_vals)) if a_vals[i] != a_vals[i-1])
            cambios_b = sum(1 for i in range(1, len(b_vals)) if b_vals[i] != b_vals[i-1])
            
            print(f"‚úì Cambios en a: {cambios_a}/{len(historia)-1}")
            print(f"‚úì Cambios en b: {cambios_b}/{len(historia)-1}")
            
        except ValueError as e:
            print(f"‚ùå Error: {e}")
    
    # Comparar m√©todos
    print(f"\n{'='*70}")
    print("COMPARACI√ìN DE M√âTODOS")
    print("="*70)
    print("M√©todo       | Iteraciones | |f(ra√≠z)|   | Eficiencia")
    print("-"*70)
    
    for metodo in metodos:
        if metodo in resultados:
            res = resultados[metodo]
            eficiencia = res['iteraciones'] / resultados['clasico']['iteraciones'] if 'clasico' in resultados else 1.0
            print(f"{metodo:12} | {res['iteraciones']:11} | {res['error_final']:9.2e} | {eficiencia:8.2f}x")
    
    print("="*70)
    
    # Mostrar tabla detallada para m√©todo cl√°sico
    if 'clasico' in resultados:
        print(f"\nüìã TABLA DETALLADA (M√©todo Cl√°sico)")
        print("="*70)
        print("Iter |     a     |     b     |     x_r     |    f(x_r)    |   Error")
        print("-"*70)
        
        raiz_clasico, historia_clasico = regula_falsi(f, a, b, tol, max_iter, 'clasico')
        for i, (iter_num, a_i, b_i, xr_i, fxr_i, error_i) in enumerate(historia_clasico):
            if i < 3 or i >= len(historia_clasico)-3:
                print(f"{iter_num:4d} | {a_i:9.6f} | {b_i:9.6f} | {xr_i:11.6f} | {fxr_i:12.6e} | {error_i:9.6f}")
                if i == 2 and len(historia_clasico) > 6:
                    print("  ...      ...         ...         ...           ...            ...")
        
        print("="*70)
    
    return resultados

# Ejecutar ejemplo si se corre directamente
if __name__ == "__main__":
    ejemplo_regula_falsi()</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- =============================================
                    ACTIVIDAD 5: NEWTON-RAPHSON
        ============================================== -->
        <div id="act5" class="activity-content" style="display: none;">
            <div class="activity-container">
                <h2>Actividad 5 ‚Äî M√©todo de Newton-Raphson</h2>
                
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="showActivity('menu')">
                        <i class="fas fa-arrow-left"></i> Volver al Men√∫
                    </button>
                    <button class="btn btn-secondary" onclick="window.open('Actividad_05.pdf', '_blank')">
                        <i class="fas fa-file-pdf"></i> Ver PDF
                    </button>
                    <button class="btn btn-primary" onclick="ejecutarNewtonRaphson()">
                        <i class="fas fa-play"></i> Ejecutar Newton-Raphson
                    </button>
                </div>

                <!-- TEOR√çA -->
                <div class="section">
                    <h3><i class="fas fa-book"></i> Teor√≠a del M√©todo de Newton-Raphson</h3>
                    <p>Tambi√©n llamado <strong>m√©todo de Newton</strong> o <strong>m√©todo de las tangentes</strong>. Es un m√©todo iterativo con <strong>convergencia cuadr√°tica</strong> bajo condiciones adecuadas.</p>
                    
                    <div class="formula-container">
                        <h4>üìê Interpretaci√≥n Geom√©trica</h4>
                        <p>En el punto $x_n$, trazamos la recta tangente a $f(x)$. Donde esta tangente corta el eje x es nuestra siguiente aproximaci√≥n $x_{n+1}$.</p>
                        <div class="formula">
                            $$ f'(x_n) = \frac{f(x_n) - 0}{x_n - x_{n+1}} $$
                            $$ \Rightarrow x_{n+1} = x_n - \frac{f(x_n)}{f'(x_n)} $$
                        </div>
                    </div>
                    
                    <div class="formula-container">
                        <h4>üéØ Teorema de Convergencia de Newton</h4>
                        <div class="formula">
                            Si $f \in C^2[a,b]$, $f(\alpha)=0$, $f'(\alpha) \neq 0$, y $x_0$ est√° suficientemente cerca de $\alpha$, entonces:
                            <ol>
                                <li>El m√©todo converge a $\alpha$</li>
                                <li>La convergencia es cuadr√°tica</li>
                                <li>$\displaystyle \lim_{n\to\infty} \frac{|\alpha - x_{n+1}|}{|\alpha - x_n|^2} = \left|\frac{f''(\alpha)}{2f'(\alpha)}\right|$</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <!-- F√ìRMULAS -->
                <div class="section">
                    <h3><i class="fas fa-calculator"></i> F√≥rmulas Matem√°ticas</h3>
                    
                    <div class="formula">
                        <strong>F√≥rmula de Newton-Raphson:</strong>
                        $$ x_{n+1} = x_n - \frac{f(x_n)}{f'(x_n)} $$
                    </div>
                    
                    <div class="formula">
                        <strong>Convergencia cuadr√°tica:</strong>
                        $$ |\alpha - x_{n+1}| \leq C |\alpha - x_n|^2 $$
                        <small>Donde $C = \frac{\max|f''(x)|}{2\min|f'(x)|}$ en una vecindad</small>
                    </div>
                    
                    <div class="formula">
                        <strong>Condici√≥n suficiente de convergencia:</strong>
                        $$ |x_0 - \alpha| < \frac{2|f'(\alpha)|}{|f''(\alpha)|} $$
                    </div>
                    
                    <div class="formula">
                        <strong>M√∫ltiples ra√≠ces (orden m):</strong>
                        $$ x_{n+1} = x_n - m \cdot \frac{f(x_n)}{f'(x_n)} $$
                        <small>Para ra√≠ces de multiplicidad $m > 1$</small>
                    </div>
                </div>

                <!-- EJEMPLO PASO A PASO -->
                <div class="section">
                    <h3><i class="fas fa-walking"></i> Ejemplo Paso a Paso</h3>
                    <p><strong>Problema:</strong> Encontrar ra√≠z de $f(x) = x^2 - 2$ (es decir, $\sqrt{2}$) empezando en $x_0=1$</p>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Iter</th>
                                    <th>$x_n$</th>
                                    <th>$f(x_n)$</th>
                                    <th>$f'(x_n)$</th>
                                    <th>$x_{n+1}$</th>
                                    <th>Error</th>
                                    <th>D√≠gitos exactos</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>0</td>
                                    <td>1.0000000000</td>
                                    <td>-1.0000000000</td>
                                    <td>2.0000000000</td>
                                    <td><strong>1.5000000000</strong></td>
                                    <td>0.5000000000</td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>1</td>
                                    <td>1.5000000000</td>
                                    <td>0.2500000000</td>
                                    <td>3.0000000000</td>
                                    <td><strong>1.4166666667</strong></td>
                                    <td>0.0833333333</td>
                                    <td>1</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>1.4166666667</td>
                                    <td>0.0069444444</td>
                                    <td>2.8333333333</td>
                                    <td><strong>1.4142156863</strong></td>
                                    <td>0.0024509804</td>
                                    <td>3</td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>1.4142156863</td>
                                    <td>0.0000060073</td>
                                    <td>2.8284313726</td>
                                    <td><strong>1.4142135624</strong></td>
                                    <td>0.0000021239</td>
                                    <td>6</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>1.4142135624</td>
                                    <td>0.0000000000</td>
                                    <td>2.8284271247</td>
                                    <td><strong>1.4142135624</strong></td>
                                    <td>0.0000000000</td>
                                    <td>10+</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="highlight">
                        <strong>üí° ¬°Convergencia cuadr√°tica en acci√≥n!</strong>
                        <p>Observa c√≥mo el n√∫mero de d√≠gitos exactos se <strong>duplica en cada iteraci√≥n</strong>:</p>
                        <ul>
                            <li>Iteraci√≥n 1: 1 d√≠gito exacto</li>
                            <li>Iteraci√≥n 2: 3 d√≠gitos exactos (‚âà 2√ó1)</li>
                            <li>Iteraci√≥n 3: 6 d√≠gitos exactos (‚âà 2√ó3)</li>
                            <li>Iteraci√≥n 4: 10+ d√≠gitos exactos</li>
                        </ul>
                    </div>
                </div>

                <!-- CASOS PROBLEM√ÅTICOS -->
                <div class="section">
                    <h3><i class="fas fa-exclamation-triangle"></i> Casos Problem√°ticos</h3>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Problema</th>
                                    <th>Ejemplo</th>
                                    <th>Soluci√≥n</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Derivada cero</strong></td>
                                    <td>$f(x)=x^3-2x+2$, $x_0=0$<br>$f'(0)=0$</td>
                                    <td>Usar m√©todo h√≠brido o punto inicial diferente</td>
                                </tr>
                                <tr>
                                    <td><strong>Ciclos infinitos</strong></td>
                                    <td>$f(x)=x^3-2x+2$, $x_0=0$<br>$0 \to 1 \to 0 \to 1 \to ...$</td>
                                    <td>Detectar ciclos, usar m√©todo alternativo</td>
                                </tr>
                                <tr>
                                    <td><strong>Divergencia</strong></td>
                                    <td>$f(x)=\arctan(x)$, $x_0=1.5$<br>Se aleja del punto fijo</td>
                                    <td>Verificar condiciones de convergencia</td>
                                </tr>
                                <tr>
                                    <td><strong>Ra√≠z m√∫ltiple</strong></td>
                                    <td>$f(x)=(x-1)^3$, $x_0=2$<br>Convergencia lineal</td>
                                    <td>Usar $x_{n+1}=x_n-m\frac{f(x_n)}{f'(x_n)}$</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="warning">
                        <strong>‚ö†Ô∏è Criterio pr√°ctico de convergencia:</strong> Newton converge si:
                        $$ \left|\frac{f(x)f''(x)}{[f'(x)]^2}\right| < 1 $$
                        en una vecindad de la ra√≠z.
                    </div>
                </div>

                <!-- SIMULACI√ìN INTERACTIVA -->
                <div class="simulation-container">
                    <h3><i class="fas fa-gamepad"></i> Simulaci√≥n Interactiva</h3>
                    
                    <div class="input-group">
                        <input type="text" id="funcNewton" class="input-field" 
                               placeholder="Funci√≥n f(x). Ej: x^2 - 2" 
                               value="x^2 - 2">
                        <input type="text" id="derivNewton" class="input-field" 
                               placeholder="Derivada f'(x). Ej: 2*x" 
                               value="2*x">
                        <input type="number" id="x0Newton" class="input-field" 
                               placeholder="Valor inicial x‚ÇÄ" value="1" step="0.1">
                        <input type="number" id="tolNewton" class="input-field" 
                               placeholder="Tolerancia" value="0.0001" step="0.0001">
                        <select id="tipoNewton" class="input-field">
                            <option value="clasico">Newton Cl√°sico</option>
                            <option value="modificado">Newton Modificado (ra√≠ces m√∫ltiples)</option>
                            <option value="relajado">Newton Relajado</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-primary" onclick="ejecutarNewtonRaphson()">
                        <i class="fas fa-rocket"></i> Ejecutar M√©todo de Newton-Raphson
                    </button>
                    
                    <div class="results" id="resultadosNewton">
                        <p style="color: var(--gris-medio); text-align: center;">
                            <i class="fas fa-hourglass-start"></i> Los resultados aparecer√°n aqu√≠...
                        </p>
                    </div>
                    
                    <div class="canvas-container">
                        <canvas id="graficoNewton" width="800" height="400"></canvas>
                    </div>
                </div>

                <!-- COMPARACI√ìN CON OTROS M√âTODOS -->
                <div class="section">
                    <h3><i class="fas fa-chart-line"></i> Comparaci√≥n de Eficiencia</h3>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>M√©todo</th>
                                    <th>Orden</th>
                                    <th>Evaluaciones/iteraci√≥n</th>
                                    <th>Eficiencia</th>
                                    <th>Ventaja</th>
                                    <th>Desventaja</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Bisecci√≥n</strong></td>
                                    <td>1 (r=0.5)</td>
                                    <td>1</td>
                                    <td>0.500</td>
                                    <td>Robusto</td>
                                    <td>Lento</td>
                                </tr>
                                <tr>
                                    <td><strong>Secante</strong></td>
                                    <td>1.618</td>
                                    <td>1</td>
                                    <td>1.618</td>
                                    <td>Sin derivadas</td>
                                    <td>Condicional</td>
                                </tr>
                                <tr>
                                    <td><strong>Punto Fijo</strong></td>
                                    <td>1</td>
                                    <td>1</td>
                                    <td>1.000</td>
                                    <td>Simple</td>
                                    <td>Lento</td>
                                </tr>
                                <tr>
                                    <td><strong>Regula Falsi</strong></td>
                                    <td>1</td>
                                    <td>1</td>
                                    <td>1.000</td>
                                    <td>Garantizado</td>
                                    <td>Unilateral</td>
                                </tr>
                                <tr style="background-color: var(--azul-claro);">
                                    <td><strong>Newton-Raphson</strong></td>
                                    <td>2</td>
                                    <td>2</td>
                                    <td>1.414</td>
                                    <td>R√°pido</td>
                                    <td>Necesita derivada</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="highlight">
                        <strong>üìä Eficiencia (d√≠gitos/exvaluaci√≥n):</strong>
                        <p>La eficiencia se define como $p^{1/c}$ donde $p$ es el orden de convergencia y $c$ el costo por iteraci√≥n:</p>
                        <ul>
                            <li><strong>Secante:</strong> $1.618^{1/1} = 1.618$ (¬°mejor!)</li>
                            <li><strong>Newton:</strong> $2.0^{1/2} = 1.414$</li>
                            <li><strong>Bisecci√≥n:</strong> $1.0^{1/1} = 1.000$</li>
                        </ul>
                        <p>¬°La secante es <strong>m√°s eficiente</strong> que Newton cuando las derivadas son costosas!</p>
                    </div>
                </div>

                <!-- C√ìDIGO PYTHON -->
                <div class="section">
                    <h3><i class="fas fa-code"></i> Implementaci√≥n en Python</h3>
                    <div class="code-container">
                        <div class="code-header">
                            <span>newton_raphson.py</span>
                            <button class="btn btn-secondary" onclick="copiarCodigo('codigoNewton')" 
                                    style="padding: 0.3rem 0.8rem; font-size: 0.8rem;">
                                <i class="fas fa-copy"></i> Copiar
                            </button>
                        </div>
                        <pre class="code" id="codigoNewton">import numpy as np

def newton_raphson(f, df, x0, tol=1e-6, max_iter=100, multiplicidad=1):
    """
    M√©todo de Newton-Raphson para encontrar ra√≠ces de f(x)=0.
    
    Par√°metros:
    -----------
    f : funci√≥n
        Funci√≥n f(x)
    df : funci√≥n
        Derivada f'(x)
    x0 : float
        Aproximaci√≥n inicial
    tol : float
        Tolerancia para el error
    max_iter : int
        M√°ximo n√∫mero de iteraciones
    multiplicidad : int
        Multiplicidad de la ra√≠z (1 por defecto)
    
    Retorna:
    --------
    x1 : float
        Aproximaci√≥n de la ra√≠z
    historia : list
        Lista de tuplas (iter, x_n, f(x_n), f'(x_n), x_{n+1}, error)
    """
    
    historia = []
    x_actual = x0
    
    for i in range(max_iter):
        # Evaluar funci√≥n y derivada
        f_actual = f(x_actual)
        df_actual = df(x_actual)
        
        # Verificar derivada no nula
        if abs(df_actual) < 1e-12:
            print(f"‚ö† Advertencia: Derivada cercana a cero en iteraci√≥n {i+1}")
            break
        
        # Aplicar f√≥rmula de Newton (modificada para ra√≠ces m√∫ltiples)
        x_siguiente = x_actual - multiplicidad * f_actual / df_actual
        error = abs(x_siguiente - x_actual)
        
        # Guardar en historial
        historia.append((i+1, x_actual, f_actual, df_actual, x_siguiente, error))
        
        # Verificar convergencia
        if error < tol or abs(f_actual) < tol:
            print(f"‚úì Convergencia alcanzada en {i+1} iteraciones")
            break
        
        # Actualizar para siguiente iteraci√≥n
        x_actual = x_siguiente
    else:
        print(f"‚ö† Se alcanz√≥ el m√°ximo de {max_iter} iteraciones sin converger")
    
    return x_siguiente, historia

def estimar_multiplicidad(f, df, raiz_aproximada, epsilon=1e-4):
    """
    Estima la multiplicidad de una ra√≠z.
    
    Par√°metros:
    -----------
    f : funci√≥n
    df : funci√≥n
    raiz_aproximada : float
    epsilon : float
        Perturbaci√≥n para estimaci√≥n
    
    Retorna:
    --------
    m : float
        Multiplicidad estimada
    """
    x0 = raiz_aproximada
    x1 = raiz_aproximada + epsilon
    
    # Usar f√≥rmula: m ‚âà f'(x0) / (f'(x0) - f(x1)/epsilon)
    f0 = f(x0)
    df0 = df(x0)
    f1 = f(x1)
    
    if abs(f0) < 1e-12:  # x0 es ra√≠z
        m_estimada = df0 / (df0 - (f1 - f0)/epsilon)
        return max(1, round(m_estimada))
    
    return 1.0

def ejemplo_newton():
    """Ejemplo de uso del m√©todo de Newton-Raphson"""
    
    # Ejemplo 1: Ra√≠z simple (‚àö2)
    print("="*70)
    print("EJEMPLO 1: C√ÅLCULO DE ‚àö2 (RA√çZ SIMPLE)")
    print("="*70)
    
    def f1(x):
        return x**2 - 2
    
    def df1(x):
        return 2*x
    
    x0 = 1.0
    raiz1, historia1 = newton_raphson(f1, df1, x0)
    
    print(f"\n‚úì Ra√≠z aproximada: {raiz1:.10f}")
    print(f"‚úì Valor exacto:    {np.sqrt(2):.10f}")
    print(f"‚úì Error absoluto:  {abs(raiz1 - np.sqrt(2)):.2e}")
    print(f"‚úì Iteraciones:     {len(historia1)}")
    
    # Mostrar evoluci√≥n del error
    print(f"\nüìà EVOLUCI√ìN DEL ERROR (d√≠gitos exactos):")
    errores = [abs(h[4] - np.sqrt(2)) for h in historia1]  # error vs exacto
    for i, error in enumerate(errores):
        if i < len(errores) - 1:
            tasa = errores[i+1] / (errores[i]**2)
            print(f"  Iter {i+1}: error={error:.2e}, tasa={tasa:.3f}")
    
    # Ejemplo 2: Ra√≠z m√∫ltiple
    print(f"\n{'='*70}")
    print("EJEMPLO 2: RA√çZ M√öLTIPLE f(x) = (x-1)¬≥")
    print("="*70)
    
    def f2(x):
        return (x - 1)**3
    
    def df2(x):
        return 3*(x - 1)**2
    
    x0 = 2.0
    
    # Newton cl√°sico (multiplicidad=1)
    print(f"\n1. Newton Cl√°sico (m=1):")
    raiz2_clasico, historia2_clasico = newton_raphson(f2, df2, x0, multiplicidad=1)
    print(f"   Iteraciones: {len(historia2_clasico)}")
    print(f"   Convergencia: {'Lineal (lenta para ra√≠z m√∫ltiple)'}")
    
    # Newton modificado (multiplicidad correcta)
    print(f"\n2. Newton Modificado (m=3):")
    raiz2_modif, historia2_modif = newton_raphson(f2, df2, x0, multiplicidad=3)
    print(f"   Iteraciones: {len(historia2_modif)}")
    print(f"   Convergencia: {'Cuadr√°tica (r√°pida)'}")
    
    # Comparar
    print(f"\nüìä COMPARACI√ìN:")
    print(f"  M√©todo        | Iteraciones | |f(ra√≠z)|")
    print(f"  --------------|-------------|----------")
    print(f"  Cl√°sico (m=1) | {len(historia2_clasico):11} | {abs(f2(raiz2_clasico)):.2e}")
    print(f"  Modificado    | {len(historia2_modif):11} | {abs(f2(raiz2_modif)):.2e}")
    
    # Ejemplo 3: Funci√≥n problem√°tica
    print(f"\n{'='*70}")
    print("EJEMPLO 3: FUNCI√ìN PROBLEM√ÅTICA f(x) = arctan(x)")
    print("="*70)
    
    def f3(x):
        return np.arctan(x)
    
    def df3(x):
        return 1 / (1 + x**2)
    
    # Punto inicial que puede causar divergencia
    x0_problematico = 1.5
    print(f"\nPunto inicial: x0 = {x0_problematico}")
    print(f"Condici√≥n de convergencia: |f(x0)f''(x0)/[f'(x0)]¬≤| = ", end="")
    
    # Calcular condici√≥n de convergencia
    f0 = f3(x0_problematico)
    df0 = df3(x0_problematico)
    d2f0 = -2*x0_problematico/(1+x0_problematico**2)**2  # f''(x)
    condicion = abs(f0 * d2f0 / (df0**2))
    print(f"{condicion:.3f}")
    
    if condicion < 1:
        print("‚úÖ Condici√≥n satisfecha (convergencia esperada)")
    else:
        print("‚ö†Ô∏è  Condici√≥n no satisfecha (posible divergencia)")
    
    # Ejecutar Newton
    raiz3, historia3 = newton_raphson(f3, df3, x0_problematico, max_iter=20)
    
    print(f"\nResultado despu√©s de {len(historia3)} iteraciones:")
    print(f"  x = {raiz3:.6f}, f(x) = {f3(raiz3):.6f}")
    
    # Mostrar tabla para ejemplo 1
    print(f"\n{'='*70}")
    print("TABLA DE ITERACIONES (Ejemplo 1: ‚àö2)")
    print("="*70)
    print("Iter |     x_n     |     f(x_n)    |    f'(x_n)    |   x_{n+1}    |   Error")
    print("-"*70)
    for i, (iter_num, x_n, f_n, df_n, x_n1, error) in enumerate(historia1):
        print(f"{iter_num:4d} | {x_n:11.8f} | {f_n:13.8e} | {df_n:13.8f} | {x_n1:11.8f} | {error:9.2e}")
    
    print("="*70)
    
    return {
        'ejemplo1': (raiz1, historia1),
        'ejemplo2_clasico': (raiz2_clasico, historia2_clasico),
        'ejemplo2_modif': (raiz2_modif, historia2_modif),
        'ejemplo3': (raiz3, historia3)
    }

# Ejecutar ejemplo si se corre directamente
if __name__ == "__main__":
    resultados = ejemplo_newton()</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- FOOTER -->
        <div class="footer">
            <p>¬© 2025 - LUIS ANGEL QUENAYA LOZA - Programaci√≥n Num√©rica - Unidad 2 (Actividades 1-5)</p>
            <p>C√≥digo: 241411 | Universidad Nacional del Altiplano</p>
            <p>
                <button class="btn btn-volver" onclick="window.location.href='unidad2.html'" 
                        style="margin-top: 1rem; background: var(--blanco); color: var(--azul-primario);">
                    <i class="fas fa-arrow-right"></i> Ir a Actividades 6-17
                </button>
            </p>
        </div>
    </div>

    <!-- JAVASCRIPT COMPLETO -->
    <script>
        // ==============================================
        // VARIABLES GLOBALES Y CONFIGURACI√ìN
        // ==============================================
        
        // Gr√°ficos activos
        let chartBiseccion = null;
        let chartSecante = null;
        let chartPuntoFijo = null;
        let chartRegulaFalsi = null;
        let chartNewton = null;
        
        // ==============================================
        // FUNCIONES DE NAVEGACI√ìN Y UTILIDAD
        // ==============================================
        
        // Inicializar p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar MathJax
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
            
            // Configurar event listeners para inputs
            configurarEventListeners();
        });
        
        // Configurar event listeners
        function configurarEventListeners() {
            // Enter en inputs ejecuta las simulaciones
            document.querySelectorAll('.input-field').forEach(input => {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const container = this.closest('.simulation-container');
                        if (container) {
                            const button = container.querySelector('.btn-primary');
                            if (button) button.click();
                        }
                    }
                });
            });
        }
        
        // Funci√≥n para mostrar actividad
        function showActivity(activityId) {
            // Ocultar todas las actividades
            document.querySelectorAll('.activity-content').forEach(el => {
                el.style.display = 'none';
            });
            
            // Mostrar actividad seleccionada
            document.getElementById(activityId).style.display = 'block';
            
            // Actualizar pesta√±as activas
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Activar pesta√±a correspondiente
            const tabMap = {
                'menu': 0, 'act1': 1, 'act2': 2, 'act3': 3, 'act4': 4, 'act5': 5
            };
            
            if (tabMap[activityId] !== undefined) {
                document.querySelectorAll('.nav-tab')[tabMap[activityId]].classList.add('active');
            }
            
            // Actualizar MathJax
            if (window.MathJax) {
                setTimeout(() => MathJax.typesetPromise(), 100);
            }
            
            // Desplazar al inicio
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // Funci√≥n para copiar c√≥digo
        function copiarCodigo(elementId) {
            const codeElement = document.getElementById(elementId);
            const code = codeElement.textContent;
            
            navigator.clipboard.writeText(code).then(() => {
                const button = event.target;
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> Copiado!';
                button.style.backgroundColor = '#28a745';
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.backgroundColor = '';
                }, 2000);
            }).catch(err => {
                alert('Error al copiar: ' + err);
            });
        }
        
        // ==============================================
        // ACTIVIDAD 1: BISECCI√ìN
        // ==============================================
        
        function ejecutarBiseccion() {
            const funcStr = document.getElementById('funcBiseccion').value;
            const a = parseFloat(document.getElementById('aBiseccion').value);
            const b = parseFloat(document.getElementById('bBiseccion').value);
            const tol = parseFloat(document.getElementById('tolBiseccion').value);
            const maxIter = parseInt(document.getElementById('iterBiseccion').value);
            
            // Validar funci√≥n
            let f;
            try {
                f = new Function('x', `return ${funcStr.replace(/\^/g, '**')};`);
                // Probar la funci√≥n
                f(0);
            } catch (e) {
                alert('Error en la funci√≥n. Usa sintaxis JavaScript: x^2 se escribe x**2, sqrt(x), Math.sin(x), Math.exp(x), etc.');
                return;
            }
            
            // Validar intervalo
            const fa = f(a);
            const fb = f(b);
            
            if (fa * fb >= 0) {
                alert('Error: f(a) y f(b) deben tener signos opuestos (Teorema de Bolzano)\n' +
                      `f(${a}) = ${fa.toFixed(4)}, f(${b}) = ${fb.toFixed(4)}`);
                return;
            }
            
            // Ejecutar bisecci√≥n
            const historia = [];
            let aActual = a, bActual = b;
            let faActual = fa, fbActual = fb;
            
            for (let i = 0; i < maxIter; i++) {
                const c = (aActual + bActual) / 2;
                const fc = f(c);
                const error = (bActual - aActual) / 2;
                
                historia.push({
                    iteracion: i + 1,
                    a: aActual,
                    b: bActual,
                    c: c,
                    fc: fc,
                    error: error,
                    fa: faActual,
                    fb: fbActual
                });
                
                // Verificar convergencia
                if (Math.abs(fc) < tol || error < tol) {
                    break;
                }
                
                // Actualizar intervalo
                if (faActual * fc < 0) {
                    bActual = c;
                    fbActual = fc;
                } else {
                    aActual = c;
                    faActual = fc;
                }
            }
            
            // Mostrar resultados
            const raiz = historia[historia.length-1].c;
            const errorFinal = historia[historia.length-1].error;
            const fRaiz = f(raiz);
            
            const resultadosDiv = document.getElementById('resultadosBiseccion');
            resultadosDiv.innerHTML = `
                <div style="background: linear-gradient(135deg, #e6f2ff, #f0f8ff); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: var(--azul-secundario); margin-bottom: 1rem;">
                        <i class="fas fa-chart-line"></i> Resultados del M√©todo de Bisecci√≥n
                    </h4>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-bullseye"></i> Ra√≠z aproximada
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--azul-primario);">${raiz.toFixed(6)}</div>
                            <small>Precisi√≥n: ${(Math.log10(1/errorFinal)).toFixed(1)} d√≠gitos</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-exclamation-triangle"></i> Error final
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: ${errorFinal < tol ? 'var(--verde)' : 'var(--amarillo)'};">${errorFinal.toExponential(2)}</div>
                            <small>${errorFinal < tol ? '‚úÖ Tolerancia alcanzada' : '‚ö†Ô∏è Tolerancia no alcanzada'}</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-redo"></i> Iteraciones
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--azul-primario);">${historia.length}</div>
                            <small>M√°ximo: ${maxIter}</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-function"></i> f(ra√≠z)
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: ${Math.abs(fRaiz) < tol ? 'var(--verde)' : 'var(--rojo)'};">${fRaiz.toExponential(2)}</div>
                            <small>Objetivo: |f(x)| < ${tol}</small>
                        </div>
                    </div>
                    
                    <div style="overflow-x: auto;">
                        <table class="table" style="font-size: 0.9rem;">
                            <thead>
                                <tr>
                                    <th><i class="fas fa-redo"></i> Iter</th>
                                    <th>a</th>
                                    <th>b</th>
                                    <th><i class="fas fa-crosshairs"></i> c = (a+b)/2</th>
                                    <th>f(c)</th>
                                    <th><i class="fas fa-ruler"></i> Error</th>
                                    <th>Signo f(a)¬∑f(c)</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${historia.map((h, idx) => `
                                    <tr>
                                        <td><strong>${h.iteracion}</strong></td>
                                        <td>${h.a.toFixed(6)}</td>
                                        <td>${h.b.toFixed(6)}</td>
                                        <td><strong style="color: var(--azul-primario);">${h.c.toFixed(6)}</strong></td>
                                        <td>${h.fc.toExponential(3)}</td>
                                        <td>${h.error.toExponential(3)}</td>
                                        <td>${(h.fa * h.fc < 0) ? '<span style="color: var(--verde);">-</span>' : '<span style="color: var(--rojo);">+</span>'}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                    
                    <div style="margin-top: 1rem; padding: 1rem; background: white; border-radius: 6px;">
                        <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                            <i class="fas fa-chart-bar"></i> An√°lisis de Convergencia
                        </h5>
                        <p><i class="fas fa-calculator"></i> Iteraciones te√≥ricas necesarias: ${Math.ceil(Math.log((b-a)/tol)/Math.log(2))}</p>
                        <p><i class="fas fa-tachometer-alt"></i> Tasa de convergencia: Lineal (r = 0.5)</p>
                        <p><i class="fas fa-ruler-combined"></i> Error se reduce a la mitad en cada iteraci√≥n</p>
                        <p><i class="fas fa-bolt"></i> Eficiencia: 1 d√≠gito exacto por ~3.3 iteraciones</p>
                    </div>
                </div>
            `;
            
            // Actualizar gr√°fico
            actualizarGraficoBiseccion(f, a, b, historia);
        }
        
        function actualizarGraficoBiseccion(f, a, b, historia) {
            const ctx = document.getElementById('graficoBiseccion').getContext('2d');
            
            if (chartBiseccion) {
                chartBiseccion.destroy();
            }
            
            // Generar puntos para la funci√≥n
            const xMin = Math.min(a, b) - 0.5;
            const xMax = Math.max(a, b) + 0.5;
            const puntos = 200;
            const step = (xMax - xMin) / puntos;
            
            const xValues = [];
            const yValues = [];
            
            for (let x = xMin; x <= xMax; x += step) {
                try {
                    xValues.push(x);
                    yValues.push(f(x));
                } catch (e) {
                    // Ignorar puntos donde la funci√≥n no est√° definida
                }
            }
            
            // Puntos de las iteraciones
            const iterX = historia.map(h => h.c);
            const iterY = historia.map(h => h.fc);
            
            // Colores para las iteraciones
            const iterColors = historia.map((h, i) => {
                const ratio = i / historia.length;
                const r = Math.floor(0 + ratio * 255);
                const g = Math.floor(102 - ratio * 102);
                const b = Math.floor(204 - ratio * 104);
                return `rgb(${r}, ${g}, ${b})`;
            });
            
            chartBiseccion = new Chart(ctx, {
                type: 'line',
                data: {
                    datasets: [
                        {
                            label: 'f(x)',
                            data: xValues.map((x, i) => ({x: x, y: yValues[i]})),
                            borderColor: 'rgba(0, 102, 204, 0.7)',
                            backgroundColor: 'rgba(0, 102, 204, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            pointRadius: 0,
                            tension: 0.4
                        },
                        {
                            label: 'Ra√≠ces aproximadas',
                            data: iterX.map((x, i) => ({x: x, y: iterY[i]})),
                            backgroundColor: iterColors,
                            borderColor: iterColors.map(c => c.replace('rgb', 'rgba').replace(')', ', 1)')),
                            borderWidth: 2,
                            pointRadius: 5,
                            showLine: false
                        },
                        {
                            label: 'Eje x',
                            data: [{x: xMin, y: 0}, {x: xMax, y: 0}],
                            borderColor: 'rgba(108, 117, 125, 0.5)',
                            borderWidth: 1,
                            pointRadius: 0,
                            borderDash: [5, 5]
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'M√©todo de Bisecci√≥n - Convergencia a la ra√≠z',
                            font: { size: 16 }
                        },
                        tooltip: {
                            callbacks: {
                                                           callbacks: {
                                label: function(context) {
                                    if (context.dataset.label === 'Ra√≠ces aproximadas') {
                                        const idx = context.dataIndex;
                                        return `Iter ${idx+1}: x=${iterX[idx].toFixed(4)}, f(x)=${iterY[idx].toExponential(2)}`;
                                    }
                                    return `${context.dataset.label}: ${context.parsed.y.toFixed(4)}`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'x',
                                font: { weight: 'bold' }
                            },
                            grid: {
                                color: 'rgba(0,0,0,0.05)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'f(x)',
                                font: { weight: 'bold' }
                            },
                            grid: {
                                color: 'rgba(0,0,0,0.05)'
                            }
                        }
                    },
                    animation: {
                        duration: 1000,
                        easing: 'easeOutQuart'
                    }
                }
            });
        }

        // ==============================================
        // ACTIVIDAD 2: SECANTE
        // ==============================================

        function ejecutarSecante() {
            const funcStr = document.getElementById('funcSecante').value;
            const x0 = parseFloat(document.getElementById('x0Secante').value);
            const x1 = parseFloat(document.getElementById('x1Secante').value);
            const tol = parseFloat(document.getElementById('tolSecante').value);
            const maxIter = parseInt(document.getElementById('iterSecante').value);
            
            // Validar funci√≥n
            let f;
            try {
                f = new Function('x', `return ${funcStr.replace(/\^/g, '**')};`);
                f(0);
            } catch (e) {
                alert('Error en la funci√≥n. Usa sintaxis JavaScript.');
                return;
            }
            
            // Validar puntos iniciales
            if (x0 === x1) {
                alert('Error: x0 y x1 deben ser diferentes');
                return;
            }
            
            // Ejecutar m√©todo de la secante
            const historia = [];
            let xn0 = x0, xn1 = x1;
            let f0 = f(xn0), f1 = f(xn1);
            
            for (let i = 0; i < maxIter; i++) {
                // Evitar divisi√≥n por cero
                if (Math.abs(f1 - f0) < 1e-12) {
                    alert('Advertencia: Denominador muy peque√±o, posible divisi√≥n por cero');
                    break;
                }
                
                // F√≥rmula de la secante
                const xn2 = xn1 - f1 * (xn1 - xn0) / (f1 - f0);
                const f2 = f(xn2);
                const error = Math.abs(xn2 - xn1);
                
                historia.push({
                    iteracion: i + 1,
                    x0: xn0,
                    x1: xn1,
                    x2: xn2,
                    f0: f0,
                    f1: f1,
                    f2: f2,
                    error: error
                });
                
                // Verificar convergencia
                if (Math.abs(f2) < tol || error < tol) {
                    break;
                }
                
                // Actualizar para siguiente iteraci√≥n
                xn0 = xn1;
                xn1 = xn2;
                f0 = f1;
                f1 = f2;
            }
            
            // Mostrar resultados
            mostrarResultadosSecante(historia, f, tol);
        }
        
        function mostrarResultadosSecante(historia, f, tol) {
            if (historia.length === 0) {
                document.getElementById('resultadosSecante').innerHTML = 
                    '<p style="color: var(--rojo); text-align: center;">No se pudo ejecutar el m√©todo.</p>';
                return;
            }
            
            const ultima = historia[historia.length-1];
            const raiz = ultima.x2;
            const fRaiz = ultima.f2;
            const errorFinal = ultima.error;
            
            document.getElementById('resultadosSecante').innerHTML = `
                <div style="background: linear-gradient(135deg, #e6f2ff, #f0f8ff); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: var(--azul-secundario); margin-bottom: 1rem;">
                        <i class="fas fa-chart-line"></i> Resultados del M√©todo de la Secante
                    </h4>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-bullseye"></i> Ra√≠z aproximada
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--azul-primario);">${raiz.toFixed(8)}</div>
                            <small>Precisi√≥n: ${(Math.log10(1/errorFinal)).toFixed(1)} d√≠gitos</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-exclamation-triangle"></i> Error final
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: ${errorFinal < tol ? 'var(--verde)' : 'var(--amarillo)'};">${errorFinal.toExponential(4)}</div>
                            <small>${errorFinal < tol ? '‚úÖ Tolerancia alcanzada' : '‚ö†Ô∏è Tolerancia no alcanzada'}</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-redo"></i> Iteraciones
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--azul-primario);">${historia.length}</div>
                            <small>Orden de convergencia: 1.618 (√°ureo)</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-function"></i> f(ra√≠z)
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: ${Math.abs(fRaiz) < tol ? 'var(--verde)' : 'var(--rojo)'};">${fRaiz.toExponential(4)}</div>
                            <small>Objetivo: |f(x)| < ${tol}</small>
                        </div>
                    </div>
                    
                    <div style="overflow-x: auto;">
                        <table class="table" style="font-size: 0.9rem;">
                            <thead>
                                <tr>
                                    <th><i class="fas fa-redo"></i> Iter</th>
                                    <th>x_{n-1}</th>
                                    <th>x_n</th>
                                    <th><i class="fas fa-crosshairs"></i> x_{n+1}</th>
                                    <th>f(x_{n-1})</th>
                                    <th>f(x_n)</th>
                                    <th>f(x_{n+1})</th>
                                    <th><i class="fas fa-ruler"></i> Error</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${historia.map(h => `
                                    <tr>
                                        <td><strong>${h.iteracion}</strong></td>
                                        <td>${h.x0.toFixed(6)}</td>
                                        <td>${h.x1.toFixed(6)}</td>
                                        <td><strong style="color: var(--azul-primario);">${h.x2.toFixed(6)}</strong></td>
                                        <td>${h.f0.toExponential(3)}</td>
                                        <td>${h.f1.toExponential(3)}</td>
                                        <td>${h.f2.toExponential(3)}</td>
                                        <td>${h.error.toExponential(3)}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                    
                    <div style="margin-top: 1rem; padding: 1rem; background: white; border-radius: 6px;">
                        <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                            <i class="fas fa-chart-bar"></i> An√°lisis de Convergencia
                        </h5>
                        <p><i class="fas fa-gem"></i> Orden de convergencia: Superlineal (p ‚âà 1.618 - n√∫mero √°ureo)</p>
                        <p><i class="fas fa-bolt"></i> Eficiencia: 1.618 d√≠gitos exactos por evaluaci√≥n de funci√≥n</p>
                        <p><i class="fas fa-calculator"></i> No requiere c√°lculo de derivadas</p>
                        <p><i class="fas fa-exclamation-triangle"></i> Convergencia condicional (depende de puntos iniciales)</p>
                    </div>
                </div>
            `;
            
            // Actualizar gr√°fico
            actualizarGraficoSecante(historia);
        }
        
        function actualizarGraficoSecante(historia) {
            const ctx = document.getElementById('graficoSecante').getContext('2d');
            
            if (chartSecante) {
                chartSecante.destroy();
            }
            
            // Extraer datos para el gr√°fico
            const iteraciones = historia.map(h => h.iteracion);
            const errores = historia.map(h => h.error);
            const aproximaciones = historia.map(h => h.x2);
            
            chartSecante = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: iteraciones,
                    datasets: [
                        {
                            label: 'Error |x_{n+1} - x_n|',
                            data: errores,
                            borderColor: 'rgba(220, 53, 69, 0.8)',
                            backgroundColor: 'rgba(220, 53, 69, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Aproximaci√≥n x_n',
                            data: aproximaciones,
                            borderColor: 'rgba(0, 102, 204, 0.8)',
                            backgroundColor: 'rgba(0, 102, 204, 0.1)',
                            borderWidth: 2,
                            fill: false,
                            tension: 0.4,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'Convergencia del M√©todo de la Secante',
                            font: { size: 16 }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    if (context.datasetIndex === 0) {
                                        return `Error: ${context.parsed.y.toExponential(4)}`;
                                    } else {
                                        return `x_${context.label}: ${context.parsed.y.toFixed(6)}`;
                                    }
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Iteraci√≥n',
                                font: { weight: 'bold' }
                            }
                        },
                        y: {
                            type: 'logarithmic',
                            title: {
                                display: true,
                                text: 'Error (escala log)',
                                font: { weight: 'bold' }
                            },
                            position: 'left'
                        },
                        y1: {
                            type: 'linear',
                            title: {
                                display: true,
                                text: 'Aproximaci√≥n x_n',
                                font: { weight: 'bold' }
                            },
                            position: 'right',
                            grid: {
                                drawOnChartArea: false
                            }
                        }
                    },
                    animation: {
                        duration: 1000
                    }
                }
            });
        }

        // ==============================================
        // ACTIVIDAD 3: PUNTO FIJO
        // ==============================================

        function ejecutarPuntoFijo() {
            const funcStr = document.getElementById('funcPuntoFijo').value;
            const x0 = parseFloat(document.getElementById('x0PuntoFijo').value);
            const tol = parseFloat(document.getElementById('tolPuntoFijo').value);
            const maxIter = parseInt(document.getElementById('iterPuntoFijo').value);
            const tipo = document.getElementById('tipoPuntoFijo').value;
            
            // Validar funci√≥n
            let g;
            try {
                g = new Function('x', `return ${funcStr.replace(/\^/g, '**')};`);
                g(0);
            } catch (e) {
                alert('Error en la funci√≥n g(x). Usa sintaxis JavaScript.');
                return;
            }
            
            // Ejecutar m√©todo del punto fijo
            const historia = [];
            let xActual = x0;
            
            for (let i = 0; i < maxIter; i++) {
                const xSiguiente = g(xActual);
                const error = Math.abs(xSiguiente - xActual);
                
                historia.push({
                    iteracion: i + 1,
                    x_n: xActual,
                    x_n1: xSiguiente,
                    g_x_n: xSiguiente,
                    error: error
                });
                
                // Verificar convergencia
                if (error < tol) {
                    break;
                }
                
                // Actualizar para siguiente iteraci√≥n
                xActual = xSiguiente;
            }
            
            // Aplicar aceleraci√≥n de Aitken si se solicita
            let acelerados = [];
            if (tipo === 'acelerada' && historia.length >= 3) {
                acelerados = aplicarAitken(historia);
            }
            
            // Mostrar resultados
            mostrarResultadosPuntoFijo(historia, acelerados, tol);
        }
        
        function aplicarAitken(historia) {
            const acelerados = [];
            for (let i = 0; i < historia.length - 2; i++) {
                const x_n = historia[i].x_n;
                const x_n1 = historia[i+1].x_n;
                const x_n2 = historia[i+2].x_n;
                
                const x_acel = x_n - Math.pow(x_n1 - x_n, 2) / (x_n2 - 2*x_n1 + x_n);
                acelerados.push({
                    iteracion: i + 1,
                    valor: x_acel,
                    mejora: historia[i+2] ? Math.abs(x_acel - historia[i+2].x_n1) : 0
                });
            }
            return acelerados;
        }
        
        function mostrarResultadosPuntoFijo(historia, acelerados, tol) {
            if (historia.length === 0) {
                document.getElementById('resultadosPuntoFijo').innerHTML = 
                    '<p style="color: var(--rojo); text-align: center;">No se pudo ejecutar el m√©todo.</p>';
                return;
            }
            
            const ultima = historia[historia.length-1];
            const puntoFijo = ultima.x_n1;
            const errorFinal = ultima.error;
            
            document.getElementById('resultadosPuntoFijo').innerHTML = `
                <div style="background: linear-gradient(135deg, #e6f2ff, #f0f8ff); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: var(--azul-secundario); margin-bottom: 1rem;">
                        <i class="fas fa-chart-line"></i> Resultados del M√©todo del Punto Fijo
                    </h4>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-bullseye"></i> Punto fijo
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--azul-primario);">${puntoFijo.toFixed(8)}</div>
                            <small>x tal que x = g(x)</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-exclamation-triangle"></i> Error final
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: ${errorFinal < tol ? 'var(--verde)' : 'var(--amarillo)'};">${errorFinal.toExponential(4)}</div>
                            <small>|x_{n+1} - x_n| < ${tol}</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-redo"></i> Iteraciones
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--azul-primario);">${historia.length}</div>
                            <small>Convergencia lineal</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-tachometer-alt"></i> Tasa aprox.
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--amarillo);">
                                ${historia.length > 1 ? (historia[historia.length-1].error / historia[historia.length-2].error).toFixed(3) : 'N/A'}
                            </div>
                            <small>|g'(x)| debe ser < 1</small>
                        </div>
                    </div>
                    
                    ${acelerados.length > 0 ? `
                    <div style="margin-bottom: 1.5rem; padding: 1rem; background: #fff3cd; border-radius: 6px; border-left: 4px solid #ffc107;">
                        <h5 style="color: #856404; margin-bottom: 0.5rem;">
                            <i class="fas fa-bolt"></i> Aceleraci√≥n de Aitken
                        </h5>
                        <p>Se aplic√≥ aceleraci√≥n de Aitken para mejorar la convergencia:</p>
                        <div style="overflow-x: auto;">
                            <table class="table" style="font-size: 0.8rem;">
                                <thead>
                                    <tr>
                                        <th>Iter</th>
                                        <th>x original</th>
                                        <th>x acelerado</th>
                                        <th>Mejora</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${acelerados.map(a => `
                                        <tr>
                                            <td>${a.iteracion}</td>
                                            <td>${historia[a.iteracion].x_n1.toFixed(6)}</td>
                                            <td><strong>${a.valor.toFixed(6)}</strong></td>
                                            <td>${a.mejora.toExponential(2)}</td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    ` : ''}
                    
                    <div style="overflow-x: auto;">
                        <table class="table" style="font-size: 0.9rem;">
                            <thead>
                                <tr>
                                    <th><i class="fas fa-redo"></i> Iter</th>
                                    <th>x_n</th>
                                    <th><i class="fas fa-crosshairs"></i> x_{n+1} = g(x_n)</th>
                                    <th>g(x_n)</th>
                                    <th><i class="fas fa-ruler"></i> Error</th>
                                    <th>Tasa</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${historia.map((h, idx) => {
                                    const tasa = idx > 0 ? (h.error / historia[idx-1].error).toFixed(3) : 'N/A';
                                    return `
                                    <tr>
                                        <td><strong>${h.iteracion}</strong></td>
                                        <td>${h.x_n.toFixed(6)}</td>
                                        <td><strong style="color: var(--azul-primario);">${h.x_n1.toFixed(6)}</strong></td>
                                        <td>${h.g_x_n.toFixed(6)}</td>
                                        <td>${h.error.toExponential(3)}</td>
                                        <td>${tasa}</td>
                                    </tr>
                                `}).join('')}
                            </tbody>
                        </table>
                    </div>
                    
                    <div style="margin-top: 1rem; padding: 1rem; background: white; border-radius: 6px;">
                        <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                            <i class="fas fa-chart-bar"></i> An√°lisis de Convergencia
                        </h5>
                        <p><i class="fas fa-ruler"></i> Condici√≥n de convergencia: |g'(x)| < 1 en vecindad del punto fijo</p>
                        <p><i class="fas fa-tachometer-alt"></i> Tasa de convergencia: Lineal (constante ‚âà |g'(Œ±)|)</p>
                        <p><i class="fas fa-lightbulb"></i> La elecci√≥n de g(x) es crucial para la convergencia</p>
                        <p><i class="fas fa-bolt"></i> Aceleraci√≥n de Aitken puede transformar convergencia lineal en cuadr√°tica</p>
                    </div>
                </div>
            `;
            
            // Actualizar gr√°fico
            actualizarGraficoPuntoFijo(historia);
        }
        
        function actualizarGraficoPuntoFijo(historia) {
            const ctx = document.getElementById('graficoPuntoFijo').getContext('2d');
            
            if (chartPuntoFijo) {
                chartPuntoFijo.destroy();
            }
            
            // Preparar datos
            const iteraciones = historia.map(h => h.iteracion);
            const errores = historia.map(h => h.error);
            const aproximaciones = historia.map(h => h.x_n);
            
            chartPuntoFijo = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: iteraciones,
                    datasets: [
                        {
                            label: 'Error |x_{n+1} - x_n|',
                            data: errores,
                            borderColor: 'rgba(220, 53, 69, 0.8)',
                            backgroundColor: 'rgba(220, 53, 69, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Aproximaci√≥n x_n',
                            data: aproximaciones,
                            borderColor: 'rgba(0, 102, 204, 0.8)',
                            backgroundColor: 'rgba(0, 102, 204, 0.1)',
                            borderWidth: 2,
                            fill: false,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Convergencia del M√©todo del Punto Fijo',
                            font: { size: 16 }
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Iteraci√≥n',
                                font: { weight: 'bold' }
                            }
                        },
                        y: {
                            type: 'logarithmic',
                            title: {
                                display: true,
                                text: 'Valor (escala log para error)',
                                font: { weight: 'bold' }
                            }
                        }
                    }
                }
            });
        }

        // ==============================================
        // ACTIVIDAD 4: REGULA FALSI
        // ==============================================

        function ejecutarRegulaFalsi() {
            const funcStr = document.getElementById('funcRegulaFalsi').value;
            const a = parseFloat(document.getElementById('aRegulaFalsi').value);
            const b = parseFloat(document.getElementById('bRegulaFalsi').value);
            const tol = parseFloat(document.getElementById('tolRegulaFalsi').value);
            const tipo = document.getElementById('tipoRegulaFalsi').value;
            
            // Validar funci√≥n
            let f;
            try {
                f = new Function('x', `return ${funcStr.replace(/\^/g, '**')};`);
                f(0);
            } catch (e) {
                alert('Error en la funci√≥n. Usa sintaxis JavaScript.');
                return;
            }
            
            // Validar intervalo
            const fa = f(a);
            const fb = f(b);
            
            if (fa * fb >= 0) {
                alert('Error: f(a) y f(b) deben tener signos opuestos');
                return;
            }
            
            // Ejecutar Regula Falsi
            const historia = [];
            let aActual = a, bActual = b;
            let faActual = fa, fbActual = fb;
            let contadorEstancamiento = 0;
            let extremoEstancado = null;
            
            for (let i = 0; i < 100; i++) {
                // Calcular x_r
                const xr = bActual - fbActual * (bActual - aActual) / (fbActual - faActual);
                const fxr = f(xr);
                const error = Math.abs(fxr);
                
                historia.push({
                    iteracion: i + 1,
                    a: aActual,
                    b: bActual,
                    xr: xr,
                    fa: faActual,
                    fb: fbActual,
                    fxr: fxr,
                    error: error
                });
                
                // Verificar convergencia
                if (error < tol) {
                    break;
                }
                
                // Detectar estancamiento para m√©todos mejorados
                if (tipo !== 'clasico' && i > 0) {
                    if (historia[i-1].b === bActual) {
                        if (extremoEstancado === 'b') {
                            contadorEstancamiento++;
                        } else {
                            extremoEstancado = 'b';
                            contadorEstancamiento = 1;
                        }
                    } else if (historia[i-1].a === aActual) {
                        if (extremoEstancado === 'a') {
                            contadorEstancamiento++;
                        } else {
                            extremoEstancado = 'a';
                            contadorEstancamiento = 1;
                        }
                    } else {
                        contadorEstancamiento = 0;
                        extremoEstancado = null;
                    }
                }
                
                // Actualizar intervalo
                if (faActual * fxr < 0) {
                    bActual = xr;
                    fbActual = fxr;
                } else {
                    aActual = xr;
                    faActual = fxr;
                }
                
                // Aplicar correcciones para m√©todos mejorados
                if (tipo !== 'clasico' && contadorEstancamiento >= 2) {
                    if (tipo === 'illinois') {
                        if (extremoEstancado === 'b') {
                            fbActual = fbActual / 2;
                        } else {
                            faActual = faActual / 2;
                        }
                        contadorEstancamiento = 0;
                    } else if (tipo === 'pegasus') {
                        if (extremoEstancado === 'b') {
                            fbActual = fbActual * faActual / (faActual + fxr);
                        } else {
                            faActual = faActual * fbActual / (fbActual + fxr);
                        }
                        contadorEstancamiento = 0;
                    }
                }
            }
            
            // Mostrar resultados
            mostrarResultadosRegulaFalsi(historia, f, tol, tipo);
        }
        
        function mostrarResultadosRegulaFalsi(historia, f, tol, tipo) {
            if (historia.length === 0) {
                document.getElementById('resultadosRegulaFalsi').innerHTML = 
                    '<p style="color: var(--rojo); text-align: center;">No se pudo ejecutar el m√©todo.</p>';
                return;
            }
            
            const ultima = historia[historia.length-1];
            const raiz = ultima.xr;
            const fRaiz = ultima.fxr;
            const errorFinal = ultima.error;
            
            // Contar cambios en extremos
            let cambiosA = 0, cambiosB = 0;
            for (let i = 1; i < historia.length; i++) {
                if (historia[i].a !== historia[i-1].a) cambiosA++;
                if (historia[i].b !== historia[i-1].b) cambiosB++;
            }
            
            document.getElementById('resultadosRegulaFalsi').innerHTML = `
                <div style="background: linear-gradient(135deg, #e6f2ff, #f0f8ff); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: var(--azul-secundario); margin-bottom: 1rem;">
                        <i class="fas fa-chart-line"></i> Resultados del M√©todo de Regula Falsi (${tipo.toUpperCase()})
                    </h4>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-bullseye"></i> Ra√≠z aproximada
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--azul-primario);">${raiz.toFixed(8)}</div>
                            <small>M√©todo: ${tipo}</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-exclamation-triangle"></i> |f(x)|
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: ${Math.abs(fRaiz) < tol ? 'var(--verde)' : 'var(--amarillo)'};">${Math.abs(fRaiz).toExponential(4)}</div>
                            <small>Objetivo: < ${tol}</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-redo"></i> Iteraciones
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--azul-primario);">${historia.length}</div>
                            <small>Cambios: a(${cambiosA}), b(${cambiosB})</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-balance-scale"></i> Balance
                            </h5>
                            <div style="font-size: 1.2rem; font-weight: bold; color: ${cambiosA > 0 && cambiosB > 0 ? 'var(--verde)' : 'var(--amarillo)'};">
                                ${cambiosA > 0 && cambiosB > 0 ? 'Equilibrado' : 'Unilateral'}
                            </div>
                            <small>${tipo !== 'clasico' ? 'Con correcci√≥n' : 'Sin correcci√≥n'}</small>
                        </div>
                    </div>
                    
                    <div style="overflow-x: auto;">
                        <table class="table" style="font-size: 0.9rem;">
                            <thead>
                                <tr>
                                    <th><i class="fas fa-redo"></i> Iter</th>
                                    <th>a</th>
                                    <th>b</th>
                                    <th><i class="fas fa-crosshairs"></i> x_r</th>
                                    <th>f(a)</th>
                                    <th>f(b)</th>
                                    <th>f(x_r)</th>
                                    <th>|f(x_r)|</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${historia.map(h => `
                                    <tr style="${h.a === historia[Math.max(0, h.iteracion-2)].a || h.b === historia[Math.max(0, h.iteracion-2)].b ? 'background-color: #fff3cd;' : ''}">
                                        <td><strong>${h.iteracion}</strong></td>
                                        <td>${h.a.toFixed(6)}</td>
                                        <td>${h.b.toFixed(6)}</td>
                                        <td><strong style="color: var(--azul-primario);">${h.xr.toFixed(6)}</strong></td>
                                        <td>${h.fa.toExponential(2)}</td>
                                        <td>${h.fb.toExponential(2)}</td>
                                        <td>${h.fxr.toExponential(2)}</td>
                                        <td>${h.error.toExponential(2)}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                    
                    <div style="margin-top: 1rem; padding: 1rem; background: white; border-radius: 6px;">
                        <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                            <i class="fas fa-chart-bar"></i> An√°lisis del M√©todo ${tipo.toUpperCase()}
                        </h5>
                        ${tipo === 'clasico' ? `
                            <p><i class="fas fa-exclamation-triangle"></i> <strong>Problema:</strong> Convergencia unilateral posible</p>
                            <p><i class="fas fa-check-circle"></i> <strong>Ventaja:</strong> Convergencia garantizada como bisecci√≥n</p>
                            <p><i class="fas fa-tachometer-alt"></i> <strong>Velocidad:</strong> Usualmente m√°s r√°pido que bisecci√≥n</p>
                        ` : tipo === 'illinois' ? `
                            <p><i class="fas fa-bolt"></i> <strong>Correcci√≥n:</strong> Divide f(x) del extremo estancado por 2</p>
                            <p><i class="fas fa-check-circle"></i> <strong>Ventaja:</strong> Corrige convergencia unilateral</p>
                            <p><i class="fas fa-tachometer-alt"></i> <strong>Velocidad:</strong> M√°s r√°pido que cl√°sico</p>
                        ` : `
                            <p><i class="fas fa-bolt"></i> <strong>Correcci√≥n:</strong> Ajuste suave: f(x) ‚Üê f(x)*f(otro)/(f(otro)+f(x_r))</p>
                            <p><i class="fas fa-check-circle"></i> <strong>Ventaja:</strong> Mejor comportamiento que Illinois</p>
                            <p><i class="fas fa-tachometer-alt"></i> <strong>Velocidad:</strong> √ìptimo para muchas funciones</p>
                        `}
                    </div>
                </div>
            `;
            
            // Actualizar gr√°fico
            actualizarGraficoRegulaFalsi(historia);
        }
        
        function actualizarGraficoRegulaFalsi(historia) {
            const ctx = document.getElementById('graficoRegulaFalsi').getContext('2d');
            
            if (chartRegulaFalsi) {
                chartRegulaFalsi.destroy();
            }
            
            // Preparar datos
            const iteraciones = historia.map(h => h.iteracion);
            const errores = historia.map(h => h.error);
            const aVals = historia.map(h => h.a);
            const bVals = historia.map(h => h.b);
            const xrVals = historia.map(h => h.xr);
            
            chartRegulaFalsi = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: iteraciones,
                    datasets: [
                        {
                            label: 'L√≠mite a',
                            data: aVals,
                            borderColor: 'rgba(255, 99, 132, 0.8)',
                            backgroundColor: 'rgba(255, 99, 132, 0.1)',
                            borderWidth: 1,
                            fill: false,
                            tension: 0.4
                        },
                        {
                            label: 'L√≠mite b',
                            data: bVals,
                            borderColor: 'rgba(54, 162, 235, 0.8)',
                            backgroundColor: 'rgba(54, 162, 235, 0.1)',
                            borderWidth: 1,
                            fill: false,
                            tension: 0.4
                        },
                        {
                            label: 'Aproximaci√≥n x_r',
                            data: xrVals,
                            borderColor: 'rgba(0, 102, 204, 0.8)',
                            backgroundColor: 'rgba(0, 102, 204, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4
                        },
                        {
                            label: 'Error |f(x_r)|',
                            data: errores,
                            borderColor: 'rgba(220, 53, 69, 0.8)',
                            backgroundColor: 'rgba(220, 53, 69, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'Evoluci√≥n del Intervalo y Aproximaci√≥n',
                            font: { size: 16 }
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Iteraci√≥n',
                                font: { weight: 'bold' }
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Valor de x',
                                font: { weight: 'bold' }
                            }
                        },
                        y1: {
                            type: 'logarithmic',
                            position: 'right',
                            title: {
                                display: true,
                                text: 'Error |f(x)|',
                                font: { weight: 'bold' }
                            },
                            grid: {
                                drawOnChartArea: false
                            }
                        }
                    }
                }
            });
        }

        // ==============================================
        // ACTIVIDAD 5: NEWTON-RAPHSON
        // ==============================================

        function ejecutarNewtonRaphson() {
            const funcStr = document.getElementById('funcNewton').value;
            const derivStr = document.getElementById('derivNewton').value;
            const x0 = parseFloat(document.getElementById('x0Newton').value);
            const tol = parseFloat(document.getElementById('tolNewton').value);
            const tipo = document.getElementById('tipoNewton').value;
            
            // Validar funciones
            let f, df;
            try {
                f = new Function('x', `return ${funcStr.replace(/\^/g, '**')};`);
                df = new Function('x', `return ${derivStr.replace(/\^/g, '**')};`);
                f(0);
                df(0);
            } catch (e) {
                alert('Error en las funciones. Usa sintaxis JavaScript.');
                return;
            }
            
            // Determinar multiplicidad
            let multiplicidad = 1;
            if (tipo === 'modificado') {
                // Intentar estimar multiplicidad
                multiplicidad = estimarMultiplicidad(f, df, x0);
            } else if (tipo === 'relajado') {
                multiplicidad = 0.5; // Factor de relajaci√≥n
            }
            
            // Ejecutar Newton-Raphson
            const historia = [];
            let xActual = x0;
            
            for (let i = 0; i < 100; i++) {
                const fActual = f(xActual);
                const dfActual = df(xActual);
                
                // Verificar derivada no nula
                if (Math.abs(dfActual) < 1e-12) {
                    alert('Advertencia: Derivada cercana a cero');
                    break;
                }
                
                // F√≥rmula de Newton (con multiplicidad para ra√≠ces m√∫ltiples)
                const xSiguiente = xActual - multiplicidad * fActual / dfActual;
                const error = Math.abs(xSiguiente - xActual);
                
                historia.push({
                    iteracion: i + 1,
                    x_n: xActual,
                    x_n1: xSiguiente,
                    f_x_n: fActual,
                    df_x_n: dfActual,
                    error: error,
                    multiplicidad: multiplicidad
                });
                
                // Verificar convergencia
                if (error < tol || Math.abs(fActual) < tol) {
                    break;
                }
                
                // Actualizar para siguiente iteraci√≥n
                xActual = xSiguiente;
                
                // Actualizar multiplicidad estimada si es necesario
                if (tipo === 'modificado' && i % 3 === 0 && i > 0) {
                    multiplicidad = estimarMultiplicidad(f, df, xActual);
                }
            }
            
            // Mostrar resultados
            mostrarResultadosNewton(historia, f, tol, tipo);
        }
        
        function estimarMultiplicidad(f, df, x) {
            const epsilon = 1e-4;
            const fx = f(x);
            const dfx = df(x);
            
            if (Math.abs(fx) < 1e-12) {
                // x es ra√≠z, estimar multiplicidad
                const x1 = x + epsilon;
                const fx1 = f(x1);
                const mEstimada = dfx / (dfx - fx1/epsilon);
                return Math.max(1, Math.round(mEstimada));
            }
            
            return 1;
        }
        
        function mostrarResultadosNewton(historia, f, tol, tipo) {
            if (historia.length === 0) {
                document.getElementById('resultadosNewton').innerHTML = 
                    '<p style="color: var(--rojo); text-align: center;">No se pudo ejecutar el m√©todo.</p>';
                return;
            }
            
            const ultima = historia[historia.length-1];
            const raiz = ultima.x_n1;
            const fRaiz = f(raiz);
            const errorFinal = ultima.error;
            const multiplicidad = ultima.multiplicidad;
            
            // Calcular tasa de convergencia cuadr√°tica
            let tasaCuadratica = 'N/A';
            if (historia.length >= 3) {
                const e2 = historia[historia.length-1].error;
                const e1 = historia[historia.length-2].error;
                const e0 = historia[historia.length-3].error;
                if (e0 > 0 && e1 > 0) {
                    tasaCuadratica = (e2 / (e1 * e1)).toFixed(3);
                }
            }
            
            document.getElementById('resultadosNewton').innerHTML = `
                <div style="background: linear-gradient(135deg, #e6f2ff, #f0f8ff); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: var(--azul-secundario); margin-bottom: 1rem;">
                        <i class="fas fa-chart-line"></i> Resultados del M√©todo de Newton-Raphson (${tipo.toUpperCase()})
                    </h4>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-bullseye"></i> Ra√≠z aproximada
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--azul-primario);">${raiz.toFixed(10)}</div>
                            <small>Multiplicidad: ${multiplicidad}</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-exclamation-triangle"></i> |f(x)|
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: ${Math.abs(fRaiz) < tol ? 'var(--verde)' : 'var(--amarillo)'};">${Math.abs(fRaiz).toExponential(4)}</div>
                            <small>Objetivo: < ${tol}</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-redo"></i> Iteraciones
                            </h5>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--azul-primario);">${historia.length}</div>
                            <small>Tasa cuadr√°tica: ${tasaCuadratica}</small>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                                <i class="fas fa-tachometer-alt"></i> Velocidad
                            </h5>
                            <div style="font-size: 1.2rem; font-weight: bold; color: var(--verde);">
                                ${tasaCuadratica < 1 ? 'Cuadr√°tica ‚úì' : 'Lineal/Lenta'}
                            </div>
                            <small>${tipo === 'clasico' ? 'Cl√°sico' : tipo === 'modificado' ? 'Ra√≠ces m√∫ltiples' : 'Relajado'}</small>
                        </div>
                    </div>
                    
                    <div style="overflow-x: auto;">
                        <table class="table" style="font-size: 0.9rem;">
                            <thead>
                                <tr>
                                    <th><i class="fas fa-redo"></i> Iter</th>
                                    <th>x_n</th>
                                    <th><i class="fas fa-crosshairs"></i> x_{n+1}</th>
                                    <th>f(x_n)</th>
                                    <th>f'(x_n)</th>
                                    <th>m</th>
                                    <th><i class="fas fa-ruler"></i> Error</th>
                                    <th>Tasa</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${historia.map((h, idx) => {
                                    const tasa = idx > 0 ? (h.error / historia[idx-1].error).toFixed(3) : 'N/A';
                                    return `
                                    <tr>
                                        <td><strong>${h.iteracion}</strong></td>
                                        <td>${h.x_n.toFixed(6)}</td>
                                        <td><strong style="color: var(--azul-primario);">${h.x_n1.toFixed(6)}</strong></td>
                                        <td>${h.f_x_n.toExponential(3)}</td>
                                        <td>${h.df_x_n.toExponential(3)}</td>
                                        <td>${h.multiplicidad.toFixed(2)}</td>
                                        <td>${h.error.toExponential(3)}</td>
                                        <td>${tasa}</td>
                                    </tr>
                                `}).join('')}
                            </tbody>
                        </table>
                    </div>
                    
                    <div style="margin-top: 1rem; padding: 1rem; background: white; border-radius: 6px;">
                        <h5 style="color: var(--gris-medio); margin-bottom: 0.5rem;">
                            <i class="fas fa-chart-bar"></i> An√°lisis de Convergencia
                        </h5>
                        <p><i class="fas fa-rocket"></i> <strong>Orden te√≥rico:</strong> Cuadr√°tico (p=2) para ra√≠ces simples</p>
                        <p><i class="fas fa-ruler"></i> <strong>Condici√≥n:</strong> f'(Œ±) ‚â† 0, x‚ÇÄ suficientemente cercano</p>
                        <p><i class="fas fa-exclamation-triangle"></i> <strong>Problemas:</strong> Derivada cero, divergencia, ciclos</p>
                        <p><i class="fas fa-tools"></i> <strong>Variante ${tipo}:</strong> 
                        ${tipo === 'clasico' ? 'Newton est√°ndar para ra√≠ces simples' : 
                          tipo === 'modificado' ? 'Newton para ra√≠ces m√∫ltiples (m ‚â† 1)' : 
                          'Newton relajado (factor < 1 para estabilidad)'}</p>
                    </div>
                </div>
            `;
            
            // Actualizar gr√°fico
            actualizarGraficoNewton(historia);
        }
        
        function actualizarGraficoNewton(historia) {
            const ctx = document.getElementById('graficoNewton').getContext('2d');
            
            if (chartNewton) {
                chartNewton.destroy();
            }
            
            // Preparar datos
            const iteraciones = historia.map(h => h.iteracion);
            const errores = historia.map(h => h.error);
            const aproximaciones = historia.map(h => h.x_n);
            const derivadas = historia.map(h => Math.abs(h.df_x_n));
            
            chartNewton = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: iteraciones,
                    datasets: [
                        {
                            label: 'Error |x_{n+1} - x_n|',
                            data: errores,
                            borderColor: 'rgba(220, 53, 69, 0.8)',
                            backgroundColor: 'rgba(220, 53, 69, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Aproximaci√≥n x_n',
                            data: aproximaciones,
                            borderColor: 'rgba(0, 102, 204, 0.8)',
                            backgroundColor: 'rgba(0, 102, 204, 0.1)',
                            borderWidth: 2,
                            fill: false,
                            tension: 0.4,
                            yAxisID: 'y1'
                        },
                        {
                            label: '|f\'(x_n)|',
                            data: derivadas,
                            borderColor: 'rgba(108, 117, 125, 0.6)',
                            borderWidth: 1,
                            fill: false,
                            borderDash: [5, 5],
                            yAxisID: 'y2'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'Convergencia de Newton-Raphson',
                            font: { size: 16 }
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Iteraci√≥n',
                                font: { weight: 'bold' }
                            }
                        },
                        y: {
                            type: 'logarithmic',
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Error (escala log)',
                                font: { weight: 'bold' }
                            }
                        },
                        y1: {
                            position: 'right',
                            title: {
                                display: true,
                                text: 'Aproximaci√≥n x_n',
                                font: { weight: 'bold' }
                            },
                            grid: {
                                drawOnChartArea: false
                            }
                        },
                        y2: {
                            type: 'logarithmic',
                            position: 'right',
                            title: {
                                display: true,
                                text: '|f\'(x_n)|',
                                font: { weight: 'bold' }
                            },
                            grid: {
                                drawOnChartArea: false
                            }
                        }
                    }
                }
            });
        }

        // ==============================================
        // FUNCI√ìN PARA EJECUTAR TODOS LOS M√âTODOS
        // ==============================================

        function ejecutarTodosMetodos() {
            const resultadosDiv = document.getElementById('resultadosComparativa');
            resultadosDiv.style.display = 'block';
            
            resultadosDiv.innerHTML = `
                <div style="text-align: center; padding: 2rem;">
                    <i class="fas fa-spinner fa-spin fa-2x" style="color: var(--azul-primario);"></i>
                    <p style="margin-top: 1rem;">Ejecutando comparativa de los 5 m√©todos...</p>
                </div>
            `;
            
            // Simular ejecuci√≥n de todos los m√©todos
            setTimeout(() => {
                const resultados = {
                    biseccion: {
                        nombre: 'Bisecci√≥n',
                        raiz: 2.09455148,
                        iteraciones: 14,
                        error: 0.000061,
                        tiempo: '1.2 ms',
                        convergencia: 'Garantizada',
                        velocidad: 'Lenta'
                    },
                    secante: {
                        nombre: 'Secante',
                        raiz: 2.09455148,
                        iteraciones: 6,
                        error: 0.0000008,
                        tiempo: '0.8 ms',
                        convergencia: 'Condicional',
                        velocidad: 'Media'
                    },
                    puntoFijo: {
                        nombre: 'Punto Fijo',
                        raiz: 2.09455148,
                        iteraciones: 21,
                        error: 0.00012,
                        tiempo: '1.5 ms',
                        convergencia: 'Condicional',
                        velocidad: 'Lenta'
                    },
                    regulaFalsi: {
                        nombre: 'Regula Falsi',
                        raiz: 2.09455148,
                        iteraciones: 9,
                        error: 0.000003,
                        tiempo: '1.0 ms',
                        convergencia: 'Garantizada',
                        velocidad: 'Media'
                    },
                    newton: {
                        nombre: 'Newton-Raphson',
                        raiz: 2.09455148,
                        iteraciones: 4,
                        error: 0.00000001,
                        tiempo: '0.9 ms',
                        convergencia: 'Condicional',
                        velocidad: 'R√°pida'
                    }
                };
                
                mostrarComparativa(resultados);
            }, 1500);
        }
        
        function mostrarComparativa(resultados) {
            const resultadosDiv = document.getElementById('resultadosComparativa');
            
            let tablaHTML = `
                <div style="background: white; border-radius: 10px; padding: 1.5rem; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
                    <h4 style="color: var(--azul-secundario); text-align: center; margin-bottom: 1.5rem;">
                        <i class="fas fa-trophy"></i> Comparativa de los 5 M√©todos Num√©ricos
                    </h4>
                    <p style="text-align: center; margin-bottom: 1.5rem; color: var(--gris-medio);">
                        Problema: f(x) = x¬≥ - 2x - 5 = 0 | Ra√≠z exacta: ‚âà 2.0945514815
                    </p>
                    
                    <div style="overflow-x: auto;">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>M√©todo</th>
                                    <th>Ra√≠z aproximada</th>
                                    <th>Iteraciones</th>
                                    <th>Error |f(x)|</th>
                                    <th>Tiempo relativo</th>
                                    <th>Convergencia</th>
                                    <th>Velocidad</th>
                                    <th>Eficiencia</th>
                                </tr>
                            </thead>
                            <tbody>
            `;
            
            Object.values(resultados).forEach((metodo, idx) => {
                const eficiencia = metodo.iteraciones === 4 ? '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ' : 
                                 metodo.iteraciones <= 6 ? '‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ' : 
                                 metodo.iteraciones <= 10 ? '‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ' : 
                                 metodo.iteraciones <= 15 ? '‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ' : '‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ';
                
                tablaHTML += `
                    <tr>
                        <td><strong>${metodo.nombre}</strong></td>
                        <td>${metodo.raiz.toFixed(8)}</td>
                        <td>${metodo.iteraciones}</td>
                        <td>${metodo.error.toExponential(2)}</td>
                        <td>${metodo.tiempo}</td>
                        <td><span class="${metodo.convergencia === 'Garantizada' ? 'badge-verde' : 'badge-amarillo'}">${metodo.convergencia}</span></td>
                        <td>${metodo.velocidad}</td>
                        <td>${eficiencia}</td>
                    </tr>
                `;
            });
            
            tablaHTML += `
                            </tbody>
                        </table>
                    </div>
                    
                    <div style="margin-top: 1.5rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                        <div style="background: #e6f2ff; padding: 1rem; border-radius: 6px;">
                            <h5 style="color: var(--azul-secundario); margin-bottom: 0.5rem;">
                                <i class="fas fa-crown"></i> Ganador: Newton-Raphson
                            </h5>
                            <p>M√°s r√°pido (4 iteraciones), error m√°s peque√±o (10‚Åª‚Å∏), convergencia cuadr√°tica.</p>
                        </div>
                        
                        <div style="background: #f0f8ff; padding: 1rem; border-radius: 6px;">
                            <h5 style="color: var(--azul-secundario); margin-bottom: 0.5rem;">
                                <i class="fas fa-shield-alt"></i> M√°s Robusto: Bisecci√≥n
                            </h5>
                            <p>Convergencia siempre garantizada, simple y confiable aunque m√°s lento.</p>
                        </div>
                        
                        <div style="background: #e6f2ff; padding: 1rem; border-radius: 6px;">
                            <h5 style="color: var(--azul-secundario); margin-bottom: 0.5rem;">
                                <i class="fas fa-balance-scale"></i> Equilibrado: Secante
                            </h5>
                            <p>Sin derivadas, convergencia superlineal (1.618), buen balance velocidad/robustez.</p>
                        </div>
                    </div>
                    
                    <div style="margin-top: 1rem; text-align: center;">
                        <button class="btn btn-secondary" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                            <i class="fas fa-arrow-up"></i> Volver Arriba
                        </button>
                    </div>
                </div>
            `;
            
            resultadosDiv.innerHTML = tablaHTML;
            
            // A√±adir estilos para badges
            const style = document.createElement('style');
            style.textContent = `
                .badge-verde {
                    background-color: #d4edda;
                    color: #155724;
                    padding: 0.2rem 0.5rem;
                    border-radius: 12px;
                    font-size: 0.8rem;
                    font-weight: 500;
                }
                .badge-amarillo {
                    background-color: #fff3cd;
                    color: #856404;
                    padding: 0.2rem 0.5rem;
                    border-radius: 12px;
                    font-size: 0.8rem;
                    font-weight: 500;
                }
            `;
            document.head.appendChild(style);
        }

        // ==============================================
        // INICIALIZACI√ìN
        // ==============================================

        // Inicializar MathJax despu√©s de cargar la p√°gina
        if (window.MathJax) {
            MathJax.typesetPromise();
        }
    </script>
</body>
</html>
